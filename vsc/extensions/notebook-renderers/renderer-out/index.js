function w(s,t){let n=Math.pow(10,t);return Math.round(s*n)/n}var f=class{constructor(t,n,i,r=1){this._rgbaBrand=void 0;this.r=Math.min(255,Math.max(0,t))|0,this.g=Math.min(255,Math.max(0,n))|0,this.b=Math.min(255,Math.max(0,i))|0,this.a=w(Math.max(Math.min(1,r),0),3)}static equals(t,n){return t.r===n.r&&t.g===n.g&&t.b===n.b&&t.a===n.a}},v=class{constructor(t,n,i,r){this._hslaBrand=void 0;this.h=Math.max(Math.min(360,t),0)|0,this.s=w(Math.max(Math.min(1,n),0),3),this.l=w(Math.max(Math.min(1,i),0),3),this.a=w(Math.max(Math.min(1,r),0),3)}static equals(t,n){return t.h===n.h&&t.s===n.s&&t.l===n.l&&t.a===n.a}static fromRGBA(t){let n=t.r/255,i=t.g/255,r=t.b/255,e=t.a,l=Math.max(n,i,r),c=Math.min(n,i,r),a=0,u=0,m=(c+l)/2,p=l-c;if(p>0){switch(u=Math.min(m<=.5?p/(2*m):p/(2-2*m),1),l){case n:a=(i-r)/p+(i<r?6:0);break;case i:a=(r-n)/p+2;break;case r:a=(n-i)/p+4;break}a*=60,a=Math.round(a)}return new v(a,u,m,e)}static _hue2rgb(t,n,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?t+(n-t)*6*i:i<1/2?n:i<2/3?t+(n-t)*(2/3-i)*6:t}static toRGBA(t){let n=t.h/360,{s:i,l:r,a:e}=t,l,c,a;if(i===0)l=c=a=r;else{let u=r<.5?r*(1+i):r+i-r*i,m=2*r-u;l=v._hue2rgb(m,u,n+1/3),c=v._hue2rgb(m,u,n),a=v._hue2rgb(m,u,n-1/3)}return new f(Math.round(l*255),Math.round(c*255),Math.round(a*255),e)}},U=class{constructor(t,n,i,r){this._hsvaBrand=void 0;this.h=Math.max(Math.min(360,t),0)|0,this.s=w(Math.max(Math.min(1,n),0),3),this.v=w(Math.max(Math.min(1,i),0),3),this.a=w(Math.max(Math.min(1,r),0),3)}static equals(t,n){return t.h===n.h&&t.s===n.s&&t.v===n.v&&t.a===n.a}static fromRGBA(t){let n=t.r/255,i=t.g/255,r=t.b/255,e=Math.max(n,i,r),l=Math.min(n,i,r),c=e-l,a=e===0?0:c/e,u;return c===0?u=0:e===n?u=((i-r)/c%6+6)%6:e===i?u=(r-n)/c+2:u=(n-i)/c+4,new U(Math.round(u*60),a,e,t.a)}static toRGBA(t){let{h:n,s:i,v:r,a:e}=t,l=r*i,c=l*(1-Math.abs(n/60%2-1)),a=r-l,[u,m,p]=[0,0,0];return n<60?(u=l,m=c):n<120?(u=c,m=l):n<180?(m=l,p=c):n<240?(m=c,p=l):n<300?(u=c,p=l):n<=360&&(u=l,p=c),u=Math.round((u+a)*255),m=Math.round((m+a)*255),p=Math.round((p+a)*255),new f(u,m,p,e)}},x=class{static fromHex(t){return x.Format.CSS.parseHex(t)||x.red}get hsla(){return this._hsla?this._hsla:v.fromRGBA(this.rgba)}get hsva(){return this._hsva?this._hsva:U.fromRGBA(this.rgba)}constructor(t){if(t)if(t instanceof f)this.rgba=t;else if(t instanceof v)this._hsla=t,this.rgba=v.toRGBA(t);else if(t instanceof U)this._hsva=t,this.rgba=U.toRGBA(t);else throw new Error("Invalid color ctor argument");else throw new Error("Color needs a value")}equals(t){return!!t&&f.equals(this.rgba,t.rgba)&&v.equals(this.hsla,t.hsla)&&U.equals(this.hsva,t.hsva)}getRelativeLuminance(){let t=x._relativeLuminanceForComponent(this.rgba.r),n=x._relativeLuminanceForComponent(this.rgba.g),i=x._relativeLuminanceForComponent(this.rgba.b),r=.2126*t+.7152*n+.0722*i;return w(r,4)}static _relativeLuminanceForComponent(t){let n=t/255;return n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4)}getContrastRatio(t){let n=this.getRelativeLuminance(),i=t.getRelativeLuminance();return n>i?(n+.05)/(i+.05):(i+.05)/(n+.05)}isDarker(){return(this.rgba.r*299+this.rgba.g*587+this.rgba.b*114)/1e3<128}isLighter(){return(this.rgba.r*299+this.rgba.g*587+this.rgba.b*114)/1e3>=128}isLighterThan(t){let n=this.getRelativeLuminance(),i=t.getRelativeLuminance();return n>i}isDarkerThan(t){let n=this.getRelativeLuminance(),i=t.getRelativeLuminance();return n<i}lighten(t){return new x(new v(this.hsla.h,this.hsla.s,this.hsla.l+this.hsla.l*t,this.hsla.a))}darken(t){return new x(new v(this.hsla.h,this.hsla.s,this.hsla.l-this.hsla.l*t,this.hsla.a))}transparent(t){let{r:n,g:i,b:r,a:e}=this.rgba;return new x(new f(n,i,r,e*t))}isTransparent(){return this.rgba.a===0}isOpaque(){return this.rgba.a===1}opposite(){return new x(new f(255-this.rgba.r,255-this.rgba.g,255-this.rgba.b,this.rgba.a))}blend(t){let n=t.rgba,i=this.rgba.a,r=n.a,e=i+r*(1-i);if(e<1e-6)return x.transparent;let l=this.rgba.r*i/e+n.r*r*(1-i)/e,c=this.rgba.g*i/e+n.g*r*(1-i)/e,a=this.rgba.b*i/e+n.b*r*(1-i)/e;return new x(new f(l,c,a,e))}makeOpaque(t){if(this.isOpaque()||t.rgba.a!==1)return this;let{r:n,g:i,b:r,a:e}=this.rgba;return new x(new f(t.rgba.r-e*(t.rgba.r-n),t.rgba.g-e*(t.rgba.g-i),t.rgba.b-e*(t.rgba.b-r),1))}flatten(...t){let n=t.reduceRight((i,r)=>x._flatten(r,i));return x._flatten(this,n)}static _flatten(t,n){let i=1-t.rgba.a;return new x(new f(i*n.rgba.r+t.rgba.a*t.rgba.r,i*n.rgba.g+t.rgba.a*t.rgba.g,i*n.rgba.b+t.rgba.a*t.rgba.b))}toString(){return this._toString??(this._toString=x.Format.CSS.format(this)),this._toString}static getLighterColor(t,n,i){if(t.isLighterThan(n))return t;i=i||.5;let r=t.getRelativeLuminance(),e=n.getRelativeLuminance();return i=i*(e-r)/e,t.lighten(i)}static getDarkerColor(t,n,i){if(t.isDarkerThan(n))return t;i=i||.5;let r=t.getRelativeLuminance(),e=n.getRelativeLuminance();return i=i*(r-e)/r,t.darken(i)}},L=x;L.white=new x(new f(255,255,255,1)),L.black=new x(new f(0,0,0,1)),L.red=new x(new f(255,0,0,1)),L.blue=new x(new f(0,0,255,1)),L.green=new x(new f(0,255,0,1)),L.cyan=new x(new f(0,255,255,1)),L.lightgrey=new x(new f(211,211,211,1)),L.transparent=new x(new f(0,0,0,0));(t=>{let s;(i=>{let n;(j=>{function r(_){return _.rgba.a===1?`rgb(${_.rgba.r}, ${_.rgba.g}, ${_.rgba.b})`:t.Format.CSS.formatRGBA(_)}j.formatRGB=r;function e(_){return`rgba(${_.rgba.r}, ${_.rgba.g}, ${_.rgba.b}, ${+_.rgba.a.toFixed(2)})`}j.formatRGBA=e;function l(_){return _.hsla.a===1?`hsl(${_.hsla.h}, ${(_.hsla.s*100).toFixed(2)}%, ${(_.hsla.l*100).toFixed(2)}%)`:t.Format.CSS.formatHSLA(_)}j.formatHSL=l;function c(_){return`hsla(${_.hsla.h}, ${(_.hsla.s*100).toFixed(2)}%, ${(_.hsla.l*100).toFixed(2)}%, ${_.hsla.a.toFixed(2)})`}j.formatHSLA=c;function a(_){let T=_.toString(16);return T.length!==2?"0"+T:T}function u(_){return`#${a(_.rgba.r)}${a(_.rgba.g)}${a(_.rgba.b)}`}j.formatHex=u;function m(_,T=!1){return T&&_.rgba.a===1?t.Format.CSS.formatHex(_):`#${a(_.rgba.r)}${a(_.rgba.g)}${a(_.rgba.b)}${a(Math.round(_.rgba.a*255))}`}j.formatHexA=m;function p(_){return _.isOpaque()?t.Format.CSS.formatHex(_):t.Format.CSS.formatRGBA(_)}j.format=p;function R(_){let T=_.length;if(T===0||_.charCodeAt(0)!==35)return null;if(T===7){let d=16*E(_.charCodeAt(1))+E(_.charCodeAt(2)),g=16*E(_.charCodeAt(3))+E(_.charCodeAt(4)),b=16*E(_.charCodeAt(5))+E(_.charCodeAt(6));return new t(new f(d,g,b,1))}if(T===9){let d=16*E(_.charCodeAt(1))+E(_.charCodeAt(2)),g=16*E(_.charCodeAt(3))+E(_.charCodeAt(4)),b=16*E(_.charCodeAt(5))+E(_.charCodeAt(6)),o=16*E(_.charCodeAt(7))+E(_.charCodeAt(8));return new t(new f(d,g,b,o/255))}if(T===4){let d=E(_.charCodeAt(1)),g=E(_.charCodeAt(2)),b=E(_.charCodeAt(3));return new t(new f(16*d+d,16*g+g,16*b+b))}if(T===5){let d=E(_.charCodeAt(1)),g=E(_.charCodeAt(2)),b=E(_.charCodeAt(3)),o=E(_.charCodeAt(4));return new t(new f(16*d+d,16*g+g,16*b+b,(16*o+o)/255))}return null}j.parseHex=R;function E(_){switch(_){case 48:return 0;case 49:return 1;case 50:return 2;case 51:return 3;case 52:return 4;case 53:return 5;case 54:return 6;case 55:return 7;case 56:return 8;case 57:return 9;case 97:return 10;case 65:return 10;case 98:return 11;case 66:return 11;case 99:return 12;case 67:return 12;case 100:return 13;case 68:return 13;case 101:return 14;case 69:return 14;case 102:return 15;case 70:return 15}return 0}})(n=i.CSS||(i.CSS={}))})(s=t.Format||(t.Format={}))})(L||(L={}));var H=[],X={"terminal.ansiBlack":{index:0},"terminal.ansiRed":{index:1},"terminal.ansiGreen":{index:2},"terminal.ansiYellow":{index:3},"terminal.ansiBlue":{index:4},"terminal.ansiMagenta":{index:5},"terminal.ansiCyan":{index:6},"terminal.ansiWhite":{index:7},"terminal.ansiBrightBlack":{index:8},"terminal.ansiBrightRed":{index:9},"terminal.ansiBrightGreen":{index:10},"terminal.ansiBrightYellow":{index:11},"terminal.ansiBrightBlue":{index:12},"terminal.ansiBrightMagenta":{index:13},"terminal.ansiBrightCyan":{index:14},"terminal.ansiBrightWhite":{index:15}};for(let s in X){let t=X[s],n=s.substring(13);H[t.index]={colorName:n,colorValue:"var(--vscode-"+s.replace(".","-")+")"}}var D=typeof window<"u"?window.trustedTypes?.createPolicy("notebookRenderer",{createHTML:s=>s,createScript:s=>s}):void 0;var z="\\u0000-\\u0020\\u007f-\\u009f",it=new RegExp("(?:[a-zA-Z][a-zA-Z0-9+.-]{2,}:\\/\\/|data:|www\\.)[^\\s"+z+'"]{2,}[^\\s'+z+`"')}\\],:;.!?]`,"ug"),st=/(?<=^|\s)(?:[a-zA-Z]:(?:(?:\\|\/)[\w\.-]*)+)/,rt=/(?<=^|\s)(?:(?:\~|\.)(?:(?:\\|\/)[\w\.-]*)+)/,lt=new RegExp(`(${st.source}|${rt.source})`),ct=/(?<=^|\s)((?:\~|\.)?(?:\/[\w\.-]*)+)/,ot=/(?:\:([\d]+))?(?:\:([\d]+))?/,at=typeof navigator<"u"?navigator.userAgent&&navigator.userAgent.indexOf("Windows")>=0:!1,_t=new RegExp(`${at?lt.source:ct.source}${ot.source}`,"g"),ut=/<a\s+(?:[^>]*?\s+)?href=(["'])(.*?)\1[^>]*?>.*?<\/a>/gi,gt=2e3,k=class{shouldGenerateHtml(t){return t&&(!!k.injectedHtmlCreator||!!D)}createHtml(t){return k.injectedHtmlCreator?k.injectedHtmlCreator(t):D?.createHTML(t).toString()}linkify(t,n,i,r){if(n){let l=t.split(`
`);for(let u=0;u<l.length-1;u++)l[u]=l[u]+`
`;l[l.length-1]||l.pop();let c=l.map(u=>this.linkify(u,!1,i,r));if(c.length===1)return c[0];let a=document.createElement("span");return c.forEach(u=>a.appendChild(u)),a}let e=document.createElement("span");for(let l of this.detectLinks(t))try{switch(l.kind){case"text":e.appendChild(document.createTextNode(l.value));break;case"web":case"path":e.appendChild(this.createWebLink(l.value));break;case"html":if(this.shouldGenerateHtml(!!r)){let c=document.createElement("span");c.innerHTML=this.createHtml(l.value),e.appendChild(c)}else e.appendChild(document.createTextNode(l.value));break}}catch{e.appendChild(document.createTextNode(l.value))}return e}createWebLink(t){let n=this.createLink(t);return n.href=t,n}createLink(t){let n=document.createElement("a");return n.textContent=t,n}detectLinks(t){if(t.length>gt)return[{kind:"text",value:t,captures:[]}];let n=[ut,it,_t],i=["html","web","path"],r=[],e=(l,c)=>{if(c>=n.length){r.push({value:l,kind:"text",captures:[]});return}let a=n[c],u=0,m;for(a.lastIndex=0;(m=a.exec(l))!==null;){let R=l.substring(u,m.index);R&&e(R,c+1);let E=m[0];r.push({value:E,kind:i[c],captures:m.slice(1)}),u=m.index+E.length}let p=l.substring(u);p&&e(p,c+1)};return e(t,0),r}},mt=new k;function J(s,t,n,i=!1){return mt.linkify(s,t,n,i)}function I(s,t){let i=document.createElement("span"),r=s.length,e=[],l,c,a,u=!1,m=0,p="";for(;m<r;){let g=!1;if(s.charCodeAt(m)===27&&s.charAt(m+1)==="["){let b=m;m+=2;let o="";for(;m<r;){let A=s.charAt(m);if(o+=A,m++,A.match(/^[ABCDHIJKfhmpsu]$/)){g=!0;break}}if(g){if(Y(i,p,t,e,void 0,l,c,a),p="",o.match(/^(?:[34][0-8]|9[0-7]|10[0-7]|[0-9]|2[1-5,7-9]|[34]9|5[8,9]|1[0-9])(?:;[349][0-7]|10[0-7]|[013]|[245]|[34]9)?(?:;[012]?[0-9]?[0-9])*;?m$/)){let A=o.slice(0,-1).split(";").filter(O=>O!=="").map(O=>parseInt(O,10));if(A[0]===38||A[0]===48||A[0]===58){let O=A[0]===38?"foreground":A[0]===48?"background":"underline";A[1]===5?T(A,O):A[1]===2&&_(A,O)}else j(A)}}else m=b}g===!1&&(p+=s.charAt(m),m++)}return p&&Y(i,p,t,e,void 0,l,c,a),i;function R(g,b){g==="foreground"?l=b:g==="background"?c=b:g==="underline"&&(a=b),e=e.filter(o=>o!==`code-${g}-colored`),b!==void 0&&e.push(`code-${g}-colored`)}function E(){let g=l;R("foreground",c),R("background",g)}function j(g){for(let b of g)switch(b){case 0:{e=[],l=void 0,c=void 0;break}case 1:{e=e.filter(o=>o!=="code-bold"),e.push("code-bold");break}case 2:{e=e.filter(o=>o!=="code-dim"),e.push("code-dim");break}case 3:{e=e.filter(o=>o!=="code-italic"),e.push("code-italic");break}case 4:{e=e.filter(o=>o!=="code-underline"&&o!=="code-double-underline"),e.push("code-underline");break}case 5:{e=e.filter(o=>o!=="code-blink"),e.push("code-blink");break}case 6:{e=e.filter(o=>o!=="code-rapid-blink"),e.push("code-rapid-blink");break}case 7:{u||(u=!0,E());break}case 8:{e=e.filter(o=>o!=="code-hidden"),e.push("code-hidden");break}case 9:{e=e.filter(o=>o!=="code-strike-through"),e.push("code-strike-through");break}case 10:{e=e.filter(o=>!o.startsWith("code-font"));break}case 11:case 12:case 13:case 14:case 15:case 16:case 17:case 18:case 19:case 20:{e=e.filter(o=>!o.startsWith("code-font")),e.push(`code-font-${b-10}`);break}case 21:{e=e.filter(o=>o!=="code-underline"&&o!=="code-double-underline"),e.push("code-double-underline");break}case 22:{e=e.filter(o=>o!=="code-bold"&&o!=="code-dim");break}case 23:{e=e.filter(o=>o!=="code-italic"&&o!=="code-font-10");break}case 24:{e=e.filter(o=>o!=="code-underline"&&o!=="code-double-underline");break}case 25:{e=e.filter(o=>o!=="code-blink"&&o!=="code-rapid-blink");break}case 27:{u&&(u=!1,E());break}case 28:{e=e.filter(o=>o!=="code-hidden");break}case 29:{e=e.filter(o=>o!=="code-strike-through");break}case 53:{e=e.filter(o=>o!=="code-overline"),e.push("code-overline");break}case 55:{e=e.filter(o=>o!=="code-overline");break}case 39:{R("foreground",void 0);break}case 49:{R("background",void 0);break}case 59:{R("underline",void 0);break}case 73:{e=e.filter(o=>o!=="code-superscript"&&o!=="code-subscript"),e.push("code-superscript");break}case 74:{e=e.filter(o=>o!=="code-superscript"&&o!=="code-subscript"),e.push("code-subscript");break}case 75:{e=e.filter(o=>o!=="code-superscript"&&o!=="code-subscript");break}default:{d(b);break}}}function _(g,b){if(g.length>=5&&g[2]>=0&&g[2]<=255&&g[3]>=0&&g[3]<=255&&g[4]>=0&&g[4]<=255){let o=new f(g[2],g[3],g[4]);R(b,o)}}function T(g,b){let o=g[2],A=bt(o);if(A)R(b,A);else if(o>=0&&o<=15){if(b==="underline"){R(b,H[o].colorValue);return}o+=30,o>=38&&(o+=52),b==="background"&&(o+=10),d(o)}}function d(g){let b,o;g>=30&&g<=37?(o=g-30,b="foreground"):g>=90&&g<=97?(o=g-90+8,b="foreground"):g>=40&&g<=47?(o=g-40,b="background"):g>=100&&g<=107&&(o=g-100+8,b="background"),o!==void 0&&b&&R(b,H[o]?.colorValue)}}function Y(s,t,n,i,r,e,l,c){if(!s||!t)return;let a=document.createElement("span");a.childElementCount===0&&(a=J(t,!0,r,n)),a.className=i.join(" "),e&&(a.style.color=typeof e=="string"?e:L.Format.CSS.formatRGB(new L(e))),l&&(a.style.backgroundColor=typeof l=="string"?l:L.Format.CSS.formatRGB(new L(l))),c&&(a.style.textDecorationColor=typeof c=="string"?c:L.Format.CSS.formatRGB(new L(c))),s.appendChild(a)}function bt(s){if(s%1===0)if(s>=16&&s<=231){s-=16;let t=s%6;s=(s-t)/6;let n=s%6;s=(s-n)/6;let i=s,r=255/5;return t=Math.round(t*r),n=Math.round(n*r),i=Math.round(i*r),new f(i,n,t)}else if(s>=232&&s<=255){s-=232;let t=Math.round(s/23*255);return new f(t,t,t)}else return}var y="scrollable",G=5e3,pt=8e3;function Et(s){let t=document.createElement("div");t.classList.add("truncation-message");let n=document.createElement("span");n.textContent="Output is truncated. View as a ",t.appendChild(n);let i=document.createElement("a");i.textContent="scrollable element",i.href=`command:cellOutput.enableScrolling?${s}`,i.ariaLabel="enable scrollable output",t.appendChild(i);let r=document.createElement("span");r.textContent=" or open in a ",t.appendChild(r);let e=document.createElement("a");e.textContent="text editor",e.href=`command:workbench.action.openLargeOutput?${s}`,e.ariaLabel="open output in text editor",t.appendChild(e);let l=document.createElement("span");l.textContent=". Adjust cell output ",t.appendChild(l);let c=document.createElement("a");c.textContent="settings",c.href="command:workbench.action.openSettings?%5B%22%40tag%3AnotebookOutputLayout%22%5D",c.ariaLabel="notebook output settings",t.appendChild(c);let a=document.createElement("span");return a.textContent="...",t.appendChild(a),t}function ft(s){let t=document.createElement("div"),n=document.createElement("a");return n.textContent="...",n.href=`command:workbench.action.openLargeOutput?${s}`,n.ariaLabel="Open full output in text editor",n.title="Open full output in text editor",n.style.setProperty("text-decoration","none"),t.appendChild(n),t}function xt(s,t,n,i){let r=document.createElement("div"),e=t.length;if(e<=n){let c=I(t.join(`
`),i);return r.appendChild(c),r}r.appendChild(I(t.slice(0,n-5).join(`
`),i));let l=document.createElement("div");return l.innerText="...",r.appendChild(l),r.appendChild(I(t.slice(e-5).join(`
`),i)),r.appendChild(Et(s)),r}function Lt(s,t,n){let i=document.createElement("div");return t.length>G&&i.appendChild(ft(s)),i.appendChild(I(t.slice(-1*G).join(`
`),n)),i}var S={};function At(s,t,n,i){S[t]||(S[t]=0);let r=n.split(/\r\n|\r|\n/g),e=r.length+S[t];return e>pt?!1:(s.appendChild(I(r.join(`
`),i)),S[t]=e,!0)}function M(s,t,n){let{linesLimit:i,error:r,scrollable:e,trustHtml:l}=n,c=t.split(/\r\n|\r|\n/g);S[s]=S[s]=Math.min(c.length,G);let a;return e?a=Lt(s,c,!!l):a=xt(s,c,i,!!l),a.setAttribute("output-item-id",s),r&&a.classList.add("error"),a}function N(s,t,n){let i=s.appendedText?.();if(i&&n.scrollable&&At(t,s.id,i,!1))return;let r=M(s.id,s.text(),n);for(t.replaceWith(r);r.nextSibling;)r.nextSibling.remove()}function Q(s){let t;return t=s.replace(/\u001b\[4\dm/g,""),t=t.replace(/\u001b\[38;.*?\d+m/g,"\x1B[39m"),t=t.replace(/(;32m[ ->]*?)(\d+)(.*)\n/g,(n,i,r,e)=>(e=e.replace(/\u001b\[3\d+m/g,"\x1B[39m"),`${i}${r}${e}
`)),Tt(t)?vt(t):t}var Rt=/\u001b\[.+?m/g,$=/File\s+(?:\u001b\[.+?m)?(.+):(\d+)/,Z=/^((?:\u001b\[.+?m)?[ \->]+?)(\d+)(?:\u001b\[0m)?( .*)/,B=/(?<prefix>Cell\s+(?:\u001b\[.+?m)?In\s*\[(?<executionCount>\d+)\],\s*)(?<lineLabel>line (?<lineNumber>\d+)).*/,F=/(?<prefix>Input\s+?(?:\u001b\[.+?m)(?<cellLabel>In\s*\[(?<executionCount>\d+)\]))(?<postfix>.*)/;function Tt(s){return B.test(s)||F.test(s)||$.test(s)}function P(s){return s.replace(Rt,"").trim()}function vt(s){let t=s.split(`
`),n;for(let i in t){let r=t[i];if($.test(r)){let e=t[i].match($);n={kind:"file",path:P(e[1])};continue}else if(B.test(r)){n={kind:"cell",path:P(r.replace(B,"vscode-notebook-cell:?execution_count=$<executionCount>"))},t[i]=r.replace(B,`$<prefix><a href='${n.path}&line=$<lineNumber>'>line $<lineNumber></a>`);continue}else if(F.test(r)){n={kind:"cell",path:P(r.replace(F,"vscode-notebook-cell:?execution_count=$<executionCount>"))},t[i]=r.replace(F,`Input <a href='${n.path}>'>$<cellLabel></a>$<postfix>`);continue}else if(!n||r.trim()===""){n=void 0;continue}else if(Z.test(r)){t[i]=r.replace(Z,(e,l,c,a)=>n?.kind==="file"?`${l}<a href='${n?.path}:${c}'>${c}</a>${a}`:`${l}<a href='${n?.path}&line=${c}'>${c}</a>${a}`);continue}}return t.join(`
`)}function W(s){for(;s.firstChild;)s.removeChild(s.firstChild)}function dt(s,t){let n=new Blob([s.data()],{type:s.mime}),i=URL.createObjectURL(n),r={dispose:()=>{URL.revokeObjectURL(i)}};if(t.firstChild){let a=t.firstChild;if(a.firstChild&&a.firstChild.nodeName==="IMG"&&a.firstChild instanceof HTMLImageElement)return a.firstChild.src=i,r}let e=document.createElement("img");e.src=i;let l=et(s);l&&(e.alt=l),e.setAttribute("data-vscode-context",JSON.stringify({webviewSection:"image",outputId:s.id,preventDefaultContextMenuItems:!0}));let c=document.createElement("div");return c.classList.add("display"),c.appendChild(e),t.appendChild(c),r}var Ut=["type","src","nonce","noModule","async"],nt=s=>{let t=Array.from(s.getElementsByTagName("script"));for(let n=0;n<t.length;n++){let i=t[n],r=document.createElement("script"),e=D?.createScript(i.innerText)??i.innerText;r.text=e;for(let l of Ut){let c=i[l]||i.getAttribute&&i.getAttribute(l);c&&r.setAttribute(l,c)}s.appendChild(r).parentNode.removeChild(r)}};function et(s){let t=s.metadata;if(typeof t=="object"&&t&&"vscode_altText"in t&&typeof t.vscode_altText=="string")return t.vscode_altText}function wt(s,t){if(s.mime.indexOf("svg")>-1){let n=t.querySelector("svg"),i=et(s);if(n&&i){let r=document.createElement("title");r.innerText=i,n.prepend(r)}}}async function Dt(s,t,n,i){W(t);let r=document.createElement("div"),e=s.text(),l=D?.createHTML(e)??e;r.innerHTML=l,wt(s,r);for(let c of i)if(r=await c.postRender(s,r,n)??r,n.aborted)return;t.appendChild(r),nt(r)}async function kt(s,t,n,i){let r=s.text();for(let a of i)if(r=await a.preEvaluate(s,t,r,n)??r,n.aborted)return;let e=document.createElement("script");e.type="module",e.textContent=r;let l=document.createElement("div"),c=D?.createHTML(e.outerHTML)??e.outerHTML;l.innerHTML=c,t.appendChild(l),nt(l)}function K(){let s=[];return{push:(...n)=>{s.push(...n)},dispose:()=>{s.forEach(n=>n.dispose())}}}function Ot(s,t,n,i){let r=K();W(t);let e;try{e=JSON.parse(s.text())}catch(l){return console.log(l),r}if(e.stack){t.classList.add("traceback");let l=Q(e.stack),c=q(s,n.settings),a=M(s.id,l??"",{linesLimit:n.settings.lineLimit,scrollable:c,trustHtml:i}),u=document.createElement("div");u.classList.toggle("word-wrap",n.settings.outputWordWrap),r.push(n.onDidChangeSettings(m=>{u.classList.toggle("word-wrap",m.outputWordWrap)})),u.classList.toggle("scrollable",c),u.appendChild(a),t.appendChild(u),V(u,r)}else{let l=document.createElement("div"),c=e.name&&e.message?`${e.name}: ${e.message}`:e.name||e.message;c&&(l.innerText=c,t.appendChild(l))}return t.classList.add("error"),r}function It(s){let t=s.parentElement,n,i=t?.previousSibling;for(;i;){let r=i.firstChild;if(!r||!r.classList.contains("output-stream"))break;n=r.firstChild,i=i?.previousSibling}return n}function h(s){let t=s.target;t.scrollTop===0?t.classList.remove("more-above"):t.classList.add("more-above")}function C(s){s.ctrlKey||s.shiftKey||(s.code==="ArrowDown"||s.code==="ArrowUp"||s.code==="End"||s.code==="Home"||s.code==="PageUp"||s.code==="PageDown")&&s.stopPropagation()}function V(s,t,n){if(s.classList.contains(y)){let i=s.scrollHeight>s.clientHeight;s.classList.toggle("scrollbar-visible",i),s.scrollTop=n!==void 0?n:s.scrollHeight,i&&(s.addEventListener("scroll",h),t.push({dispose:()=>s.removeEventListener("scroll",h)}),s.addEventListener("keydown",C),t.push({dispose:()=>s.removeEventListener("keydown",C)}))}}function St(s){let t=s.querySelector("."+y);if(t&&t.scrollHeight-t.scrollTop-t.clientHeight>2)return t.scrollTop}function q(s,t){let n=s.metadata;return typeof n=="object"&&n&&"scrollable"in n&&typeof n.scrollable=="boolean"?n.scrollable:t.outputScrolling}function tt(s,t,n,i){let r=K(),e=q(s,i.settings),l={linesLimit:i.settings.lineLimit,scrollable:e,trustHtml:!1,error:n};t.classList.add("output-stream");let c=e?St(t):void 0,a=It(t);if(a){let u=a.querySelector(`[output-item-id="${s.id}"]`);if(u)N(s,u,l);else{let m=M(s.id,s.text(),l);a.appendChild(m)}a.classList.toggle("scrollbar-visible",a.scrollHeight>a.clientHeight),a.scrollTop=c!==void 0?c:a.scrollHeight}else{let u=t.querySelector(`[output-item-id="${s.id}"]`),m=u?.parentElement;if(u&&m)N(s,u,l);else{let p=M(s.id,s.text(),l);for(m=document.createElement("div"),m.appendChild(p);t.firstChild;)t.removeChild(t.firstChild);t.appendChild(m)}m.classList.toggle("scrollable",e),m.classList.toggle("word-wrap",i.settings.outputWordWrap),r.push(i.onDidChangeSettings(p=>{m.classList.toggle("word-wrap",p.outputWordWrap)})),V(m,r,c)}return r}function Mt(s,t,n){let i=K();W(t);let r=s.text(),e=q(s,n.settings),l=M(s.id,r,{linesLimit:n.settings.lineLimit,scrollable:e,trustHtml:!1});return l.classList.add("output-plaintext"),n.settings.outputWordWrap&&l.classList.add("word-wrap"),l.classList.toggle("scrollable",e),t.appendChild(l),V(l,i),i}var Jt=s=>{let t=new Map,n=new Set,i=new Set,r=s,e=document.createElement("style");return e.textContent=`
	#container div.output.remove-padding {
		padding-left: 0;
		padding-right: 0;
	}
	.output-plaintext,
	.output-stream,
	.traceback {
		display: inline-block;
		width: 100%;
		line-height: var(--notebook-cell-output-line-height);
		font-family: var(--notebook-cell-output-font-family);
		font-size: var(--notebook-cell-output-font-size);
		user-select: text;
		-webkit-user-select: text;
		-ms-user-select: text;
		cursor: auto;
		word-wrap: break-word;
		/* text/stream output container should scroll but preserve newline character */
		white-space: pre;
	}
	/* When wordwrap turned on, force it to pre-wrap */
	#container div.output_container .word-wrap span {
		white-space: pre-wrap;
	}
	#container div.output>div {
		padding-left: var(--notebook-output-node-left-padding);
		padding-right: var(--notebook-output-node-padding);
		box-sizing: border-box;
		border-width: 1px;
		border-style: solid;
		border-color: transparent;
	}
	#container div.output>div:focus {
		outline: 0;
		border-color: var(--theme-input-focus-border-color);
	}
	#container div.output .scrollable {
		overflow-y: scroll;
		max-height: var(--notebook-cell-output-max-height);
	}
	#container div.output .scrollable.scrollbar-visible {
		border-color: var(--vscode-editorWidget-border);
	}
	#container div.output .scrollable.scrollbar-visible:focus {
		border-color: var(--theme-input-focus-border-color);
	}
	#container div.truncation-message {
		font-style: italic;
		font-family: var(--theme-font-family);
		padding-top: 4px;
	}
	#container div.output .scrollable div {
		cursor: text;
	}
	#container div.output .scrollable div a {
		cursor: pointer;
	}
	#container div.output .scrollable.more-above {
		box-shadow: var(--vscode-scrollbar-shadow) 0 6px 6px -6px inset
	}
	.output-plaintext .code-bold,
	.output-stream .code-bold,
	.traceback .code-bold {
		font-weight: bold;
	}
	.output-plaintext .code-italic,
	.output-stream .code-italic,
	.traceback .code-italic {
		font-style: italic;
	}
	.output-plaintext .code-strike-through,
	.output-stream .code-strike-through,
	.traceback .code-strike-through {
		text-decoration: line-through;
	}
	.output-plaintext .code-underline,
	.output-stream .code-underline,
	.traceback .code-underline {
		text-decoration: underline;
	}
	`,document.body.appendChild(e),{renderOutputItem:async(l,c,a)=>{switch(c.classList.add("remove-padding"),l.mime){case"text/html":case"image/svg+xml":{if(!s.workspace.isTrusted)return;await Dt(l,c,a,n);break}case"application/javascript":{if(!s.workspace.isTrusted)return;kt(l,c,a,i);break}case"image/gif":case"image/png":case"image/jpeg":case"image/git":{t.get(l.id)?.dispose();let u=dt(l,c);t.set(l.id,u)}break;case"application/vnd.code.notebook.error":{t.get(l.id)?.dispose();let u=Ot(l,c,r,s.workspace.isTrusted);t.set(l.id,u)}break;case"application/vnd.code.notebook.stdout":case"application/x.notebook.stdout":case"application/x.notebook.stream":{t.get(l.id)?.dispose();let u=tt(l,c,!1,r);t.set(l.id,u)}break;case"application/vnd.code.notebook.stderr":case"application/x.notebook.stderr":{t.get(l.id)?.dispose();let u=tt(l,c,!0,r);t.set(l.id,u)}break;case"text/plain":{t.get(l.id)?.dispose();let u=Mt(l,c,r);t.set(l.id,u)}break;default:break}c.querySelector("div")&&(c.querySelector("div").tabIndex=0)},disposeOutputItem:l=>{l?t.get(l)?.dispose():t.forEach(c=>c.dispose())},experimental_registerHtmlRenderingHook:l=>(n.add(l),{dispose:()=>{n.delete(l)}}),experimental_registerJavaScriptRenderingHook:l=>(i.add(l),{dispose:()=>{i.delete(l)}})}};export{Jt as activate};
