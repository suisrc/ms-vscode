/*!--------------------------------------------------------
 * Copyright (C) Microsoft Corporation. All rights reserved.
 *--------------------------------------------------------*/(function(){var ht=["require","exports","vs/base/common/platform","vs/base/common/strings","vs/base/common/errors","vs/base/common/path","vs/base/common/buffer","vs/base/common/lifecycle","vs/editor/common/model/pieceTreeTextBuffer/pieceTreeBase","vs/editor/common/core/range","vs/base/common/extpath","vs/base/common/network","vs/base/common/uri","vs/base/common/stream","vs/base/common/lazy","vs/base/common/symbols","vs/editor/common/core/eolCounter","vs/editor/common/model/pieceTreeTextBuffer/rbTreeBase","vs/editor/common/model","vs/editor/common/model/textModelSearch","vs/base/common/mime","vs/base/common/resources","vs/base/common/async","vs/base/common/event","vs/base/common/glob","vs/editor/common/core/stringBuilder","vs/editor/common/core/textChange","vs/editor/common/model/pieceTreeTextBuffer/pieceTreeTextBuffer","vs/editor/common/model/pieceTreeTextBuffer/pieceTreeTextBufferBuilder","vs/nls!vs/platform/contextkey/common/contextkey","vs/nls","vs/nls!vs/workbench/contrib/notebook/common/services/notebookSimpleWorker","vs/nls!vs/platform/contextkey/common/scanner","vs/platform/contextkey/common/scanner","vs/platform/instantiation/common/instantiation","vs/platform/contextkey/common/contextkey","vs/workbench/contrib/notebook/common/notebookCommon","vs/editor/common/core/position","vs/base/common/types","vs/base/common/cancellation","vs/base/common/arrays","vs/base/common/map","vs/base/common/iterator","vs/workbench/contrib/notebook/common/services/notebookSimpleWorker","vs/base/common/diff/diff","vs/base/common/hash"],at=function(ct){for(var t=[],G=0,D=ct.length;G<D;G++)t[G]=ht[ct[G]];return t};define(ht[13],at([0,1,4,7]),function(ct,t,G,D){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.$fe=t.$ee=t.$de=t.$ce=t.$be=t.$ae=t.$_d=t.$$d=t.$0d=t.$9d=t.$8d=t.$7d=t.$6d=t.$5d=t.$4d=void 0;function T(n){const r=n;return r?typeof r.read=="function":!1}t.$4d=T;function O(n){const r=n;return r?[r.on,r.pause,r.resume,r.destroy].every(u=>typeof u=="function"):!1}t.$5d=O;function F(n){const r=n;return r?O(r.stream)&&Array.isArray(r.buffer)&&typeof r.ended=="boolean":!1}t.$6d=F;function Q(n,r){return new B(n,r)}t.$7d=Q;class B{constructor(r,u){this.e=r,this.f=u,this.a={flowing:!1,ended:!1,destroyed:!1},this.b={data:[],error:[]},this.c={data:[],error:[],end:[]},this.d=[]}pause(){this.a.destroyed||(this.a.flowing=!1)}resume(){this.a.destroyed||this.a.flowing||(this.a.flowing=!0,this.j(),this.k(),this.l())}write(r){if(!this.a.destroyed){if(this.a.flowing)this.g(r);else if(this.b.data.push(r),typeof this.f?.highWaterMark=="number"&&this.b.data.length>this.f.highWaterMark)return new Promise(u=>this.d.push(u))}}error(r){this.a.destroyed||(this.a.flowing?this.h(r):this.b.error.push(r))}end(r){this.a.destroyed||(typeof r<"u"&&this.write(r),this.a.flowing?(this.i(),this.destroy()):this.a.ended=!0)}g(r){this.c.data.slice(0).forEach(u=>u(r))}h(r){this.c.error.length===0?(0,G.$1)(r):this.c.error.slice(0).forEach(u=>u(r))}i(){this.c.end.slice(0).forEach(r=>r())}on(r,u){if(!this.a.destroyed)switch(r){case"data":this.c.data.push(u),this.resume();break;case"end":this.c.end.push(u),this.a.flowing&&this.l()&&this.destroy();break;case"error":this.c.error.push(u),this.a.flowing&&this.k();break}}removeListener(r,u){if(this.a.destroyed)return;let m;switch(r){case"data":m=this.c.data;break;case"end":m=this.c.end;break;case"error":m=this.c.error;break}if(m){const v=m.indexOf(u);v>=0&&m.splice(v,1)}}j(){if(this.b.data.length>0){const r=this.e(this.b.data);this.g(r),this.b.data.length=0;const u=[...this.d];this.d.length=0,u.forEach(m=>m())}}k(){if(this.c.error.length>0){for(const r of this.b.error)this.h(r);this.b.error.length=0}}l(){return this.a.ended?(this.i(),this.c.end.length>0):!1}destroy(){this.a.destroyed||(this.a.destroyed=!0,this.a.ended=!0,this.b.data.length=0,this.b.error.length=0,this.c.data.length=0,this.c.error.length=0,this.c.end.length=0,this.d.length=0)}}function $(n,r){const u=[];let m;for(;(m=n.read())!==null;)u.push(m);return r(u)}t.$8d=$;function p(n,r,u){const m=[];let v;for(;(v=n.read())!==null&&m.length<u;)m.push(v);return v===null&&m.length>0?r(m):{read:()=>{if(m.length>0)return m.shift();if(typeof v<"u"){const E=v;return v=void 0,E}return n.read()}}}t.$9d=p;function U(n,r){return new Promise((u,m)=>{const v=[];f(n,{onData:E=>{r&&v.push(E)},onError:E=>{r?m(E):u(void 0)},onEnd:()=>{u(r?r(v):void 0)}})})}t.$0d=U;function f(n,r,u){n.on("error",m=>{u?.isCancellationRequested||r.onError(m)}),n.on("end",()=>{u?.isCancellationRequested||r.onEnd()}),n.on("data",m=>{u?.isCancellationRequested||r.onData(m)})}t.$$d=f;function C(n,r){return new Promise((u,m)=>{const v=new D.$Rc,E=[],P=j=>{if(E.push(j),E.length>r)return v.dispose(),n.pause(),u({stream:n,buffer:E,ended:!1})},o=j=>(v.dispose(),m(j)),I=()=>(v.dispose(),u({stream:n,buffer:E,ended:!0}));v.add((0,D.$Qc)(()=>n.removeListener("error",o))),n.on("error",o),v.add((0,D.$Qc)(()=>n.removeListener("end",I))),n.on("end",I),v.add((0,D.$Qc)(()=>n.removeListener("data",P))),n.on("data",P)})}t.$_d=C;function g(n,r){const u=Q(r);return u.end(n),u}t.$ae=g;function a(){const n=Q(()=>{throw new Error("not supported")});return n.end(),n}t.$be=a;function l(n){let r=!1;return{read:()=>r?null:(r=!0,n)}}t.$ce=l;function c(n,r,u){const m=Q(u);return f(n,{onData:v=>m.write(r.data(v)),onError:v=>m.error(r.error?r.error(v):v),onEnd:()=>m.end()}),m}t.$de=c;function e(n,r,u){let m=!1;return{read:()=>{const v=r.read();return m?v:(m=!0,v!==null?u([n,v]):n)}}}t.$ee=e;function s(n,r,u){let m=!1;const v=Q(u);return f(r,{onData:E=>m?v.write(E):(m=!0,v.write(u([n,E]))),onError:E=>v.error(E),onEnd:()=>{m||(m=!0,v.write(n)),v.end()}}),v}t.$fe=s}),define(ht[6],at([0,1,14,13]),function(ct,t,G,D){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.$Ae=t.$ze=t.$ye=t.$xe=t.$we=t.$ve=t.$ue=t.$te=t.$se=t.$re=t.$qe=t.$pe=t.$oe=t.$ne=t.$me=t.$le=t.$ke=t.$je=t.$ie=t.$he=t.$ge=void 0;const T=typeof Buffer<"u",O=new G.$V(()=>new Uint8Array(256));let F,Q;class B{static alloc(b){return T?new B(Buffer.allocUnsafe(b)):new B(new Uint8Array(b))}static wrap(b){return T&&!Buffer.isBuffer(b)&&(b=Buffer.from(b.buffer,b.byteOffset,b.byteLength)),new B(b)}static fromString(b,V){return!(V?.dontUseNodeBuffer||!1)&&T?new B(Buffer.from(b)):(F||(F=new TextEncoder),new B(F.encode(b)))}static fromByteArray(b){const V=B.alloc(b.length);for(let _=0,tt=b.length;_<tt;_++)V.buffer[_]=b[_];return V}static concat(b,V){if(typeof V>"u"){V=0;for(let st=0,et=b.length;st<et;st++)V+=b[st].byteLength}const _=B.alloc(V);let tt=0;for(let st=0,et=b.length;st<et;st++){const nt=b[st];_.set(nt,tt),tt+=nt.byteLength}return _}constructor(b){this.buffer=b,this.byteLength=this.buffer.byteLength}clone(){const b=B.alloc(this.byteLength);return b.set(this),b}toString(){return T?this.buffer.toString():(Q||(Q=new TextDecoder),Q.decode(this.buffer))}slice(b,V){return new B(this.buffer.subarray(b,V))}set(b,V){if(b instanceof B)this.buffer.set(b.buffer,V);else if(b instanceof Uint8Array)this.buffer.set(b,V);else if(b instanceof ArrayBuffer)this.buffer.set(new Uint8Array(b),V);else if(ArrayBuffer.isView(b))this.buffer.set(new Uint8Array(b.buffer,b.byteOffset,b.byteLength),V);else throw new Error("Unknown argument 'array'")}readUInt32BE(b){return f(this.buffer,b)}writeUInt32BE(b,V){C(this.buffer,b,V)}readUInt32LE(b){return g(this.buffer,b)}writeUInt32LE(b,V){a(this.buffer,b,V)}readUInt8(b){return l(this.buffer,b)}writeUInt8(b,V){c(this.buffer,b,V)}indexOf(b,V=0){return $(this.buffer,b instanceof B?b.buffer:b,V)}}t.$ge=B;function $(k,b,V=0){const _=b.byteLength,tt=k.byteLength;if(_===0)return 0;if(_===1)return k.indexOf(b[0]);if(_>tt-V)return-1;const st=O.value;st.fill(b.length);for(let J=0;J<b.length;J++)st[b[J]]=b.length-J-1;let et=V+b.length-1,nt=et,w=-1;for(;et<tt;)if(k[et]===b[nt]){if(nt===0){w=et;break}et--,nt--}else et+=Math.max(b.length-nt,st[k[et]]),nt=b.length-1;return w}t.$he=$;function p(k,b){return k[b+0]<<0>>>0|k[b+1]<<8>>>0}t.$ie=p;function U(k,b,V){k[V+0]=b&255,b=b>>>8,k[V+1]=b&255}t.$je=U;function f(k,b){return k[b]*2**24+k[b+1]*2**16+k[b+2]*2**8+k[b+3]}t.$ke=f;function C(k,b,V){k[V+3]=b,b=b>>>8,k[V+2]=b,b=b>>>8,k[V+1]=b,b=b>>>8,k[V]=b}t.$le=C;function g(k,b){return k[b+0]<<0>>>0|k[b+1]<<8>>>0|k[b+2]<<16>>>0|k[b+3]<<24>>>0}t.$me=g;function a(k,b,V){k[V+0]=b&255,b=b>>>8,k[V+1]=b&255,b=b>>>8,k[V+2]=b&255,b=b>>>8,k[V+3]=b&255}t.$ne=a;function l(k,b){return k[b]}t.$oe=l;function c(k,b,V){k[V]=b}t.$pe=c;function e(k){return D.$8d(k,b=>B.concat(b))}t.$qe=e;function s(k){return D.$ce(k)}t.$re=s;function n(k){return D.$0d(k,b=>B.concat(b))}t.$se=n;async function r(k){return k.ended?B.concat(k.buffer):B.concat([...k.buffer,await n(k.stream)])}t.$te=r;function u(k){return D.$ae(k,b=>B.concat(b))}t.$ue=u;function m(k){return D.$de(k,{data:b=>typeof b=="string"?B.fromString(b):B.wrap(b)},b=>B.concat(b))}t.$ve=m;function v(k){return D.$7d(b=>B.concat(b),k)}t.$we=v;function E(k,b){return D.$ee(k,b,V=>B.concat(V))}t.$xe=E;function P(k,b){return D.$fe(k,b,V=>B.concat(V))}t.$ye=P;function o(k){let b=0,V=0,_=0;const tt=new Uint8Array(Math.floor(k.length/4*3)),st=nt=>{switch(V){case 3:tt[_++]=b|nt,V=0;break;case 2:tt[_++]=b|nt>>>2,b=nt<<6,V=3;break;case 1:tt[_++]=b|nt>>>4,b=nt<<4,V=2;break;default:b=nt<<2,V=1}};for(let nt=0;nt<k.length;nt++){const w=k.charCodeAt(nt);if(w>=65&&w<=90)st(w-65);else if(w>=97&&w<=122)st(w-97+26);else if(w>=48&&w<=57)st(w-48+52);else if(w===43||w===45)st(62);else if(w===47||w===95)st(63);else{if(w===61)break;throw new SyntaxError(`Unexpected base64 character ${k[nt]}`)}}const et=_;for(;V>0;)st(0);return B.wrap(tt).slice(0,et)}t.$ze=o;const I="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",j="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_";function W({buffer:k},b=!0,V=!1){const _=V?j:I;let tt="";const st=k.byteLength%3;let et=0;for(;et<k.byteLength-st;et+=3){const nt=k[et+0],w=k[et+1],J=k[et+2];tt+=_[nt>>>2],tt+=_[(nt<<4|w>>>4)&63],tt+=_[(w<<2|J>>>6)&63],tt+=_[J&63]}if(st===1){const nt=k[et+0];tt+=_[nt>>>2],tt+=_[nt<<4&63],b&&(tt+="==")}else if(st===2){const nt=k[et+0],w=k[et+1];tt+=_[nt>>>2],tt+=_[(nt<<4|w>>>4)&63],tt+=_[w<<2&63],b&&(tt+="=")}return tt}t.$Ae=W}),define(ht[15],at([0,1]),function(ct,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.$Pd=void 0,t.$Pd=Symbol("MicrotaskDelay")}),define(ht[16],at([0,1]),function(ct,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.$gt=t.StringEOL=void 0;var G;(function(T){T[T.Unknown=0]="Unknown",T[T.Invalid=3]="Invalid",T[T.LF=1]="LF",T[T.CRLF=2]="CRLF"})(G||(t.StringEOL=G={}));function D(T){let O=0,F=0,Q=0,B=0;for(let $=0,p=T.length;$<p;$++){const U=T.charCodeAt($);U===13?(O===0&&(F=$),O++,$+1<p&&T.charCodeAt($+1)===10?(B|=2,$++):B|=3,Q=$+1):U===10&&(B|=1,O===0&&(F=$),O++,Q=$+1)}return O===0&&(F=T.length),[O,F,T.length-Q,B]}t.$gt=D}),define(ht[17],at([0,1]),function(ct,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.$JB=t.$IB=t.$HB=t.$GB=t.$FB=t.$EB=t.$DB=t.$CB=t.$BB=t.NodeColor=t.$AB=void 0;class G{constructor(l,c){this.piece=l,this.color=c,this.size_left=0,this.lf_left=0,this.parent=this,this.left=this,this.right=this}next(){if(this.right!==t.$BB)return T(this.right);let l=this;for(;l.parent!==t.$BB&&l.parent.left!==l;)l=l.parent;return l.parent===t.$BB?t.$BB:l.parent}prev(){if(this.left!==t.$BB)return O(this.left);let l=this;for(;l.parent!==t.$BB&&l.parent.right!==l;)l=l.parent;return l.parent===t.$BB?t.$BB:l.parent}detach(){this.parent=null,this.left=null,this.right=null}}t.$AB=G;var D;(function(a){a[a.Black=0]="Black",a[a.Red=1]="Red"})(D||(t.NodeColor=D={})),t.$BB=new G(null,0),t.$BB.parent=t.$BB,t.$BB.left=t.$BB,t.$BB.right=t.$BB,t.$BB.color=0;function T(a){for(;a.left!==t.$BB;)a=a.left;return a}t.$CB=T;function O(a){for(;a.right!==t.$BB;)a=a.right;return a}t.$DB=O;function F(a){return a===t.$BB?0:a.size_left+a.piece.length+F(a.right)}function Q(a){return a===t.$BB?0:a.lf_left+a.piece.lineFeedCnt+Q(a.right)}function B(){t.$BB.parent=t.$BB}function $(a,l){const c=l.right;c.size_left+=l.size_left+(l.piece?l.piece.length:0),c.lf_left+=l.lf_left+(l.piece?l.piece.lineFeedCnt:0),l.right=c.left,c.left!==t.$BB&&(c.left.parent=l),c.parent=l.parent,l.parent===t.$BB?a.root=c:l.parent.left===l?l.parent.left=c:l.parent.right=c,c.left=l,l.parent=c}t.$EB=$;function p(a,l){const c=l.left;l.left=c.right,c.right!==t.$BB&&(c.right.parent=l),c.parent=l.parent,l.size_left-=c.size_left+(c.piece?c.piece.length:0),l.lf_left-=c.lf_left+(c.piece?c.piece.lineFeedCnt:0),l.parent===t.$BB?a.root=c:l===l.parent.right?l.parent.right=c:l.parent.left=c,c.right=l,l.parent=c}t.$FB=p;function U(a,l){let c,e;if(l.left===t.$BB?(e=l,c=e.right):l.right===t.$BB?(e=l,c=e.left):(e=T(l.right),c=e.right),e===a.root){a.root=c,c.color=0,l.detach(),B(),a.root.parent=t.$BB;return}const s=e.color===1;if(e===e.parent.left?e.parent.left=c:e.parent.right=c,e===l?(c.parent=e.parent,g(a,c)):(e.parent===l?c.parent=e:c.parent=e.parent,g(a,c),e.left=l.left,e.right=l.right,e.parent=l.parent,e.color=l.color,l===a.root?a.root=e:l===l.parent.left?l.parent.left=e:l.parent.right=e,e.left!==t.$BB&&(e.left.parent=e),e.right!==t.$BB&&(e.right.parent=e),e.size_left=l.size_left,e.lf_left=l.lf_left,g(a,e)),l.detach(),c.parent.left===c){const r=F(c),u=Q(c);if(r!==c.parent.size_left||u!==c.parent.lf_left){const m=r-c.parent.size_left,v=u-c.parent.lf_left;c.parent.size_left=r,c.parent.lf_left=u,C(a,c.parent,m,v)}}if(g(a,c.parent),s){B();return}let n;for(;c!==a.root&&c.color===0;)c===c.parent.left?(n=c.parent.right,n.color===1&&(n.color=0,c.parent.color=1,$(a,c.parent),n=c.parent.right),n.left.color===0&&n.right.color===0?(n.color=1,c=c.parent):(n.right.color===0&&(n.left.color=0,n.color=1,p(a,n),n=c.parent.right),n.color=c.parent.color,c.parent.color=0,n.right.color=0,$(a,c.parent),c=a.root)):(n=c.parent.left,n.color===1&&(n.color=0,c.parent.color=1,p(a,c.parent),n=c.parent.left),n.left.color===0&&n.right.color===0?(n.color=1,c=c.parent):(n.left.color===0&&(n.right.color=0,n.color=1,$(a,n),n=c.parent.left),n.color=c.parent.color,c.parent.color=0,n.left.color=0,p(a,c.parent),c=a.root));c.color=0,B()}t.$GB=U;function f(a,l){for(g(a,l);l!==a.root&&l.parent.color===1;)if(l.parent===l.parent.parent.left){const c=l.parent.parent.right;c.color===1?(l.parent.color=0,c.color=0,l.parent.parent.color=1,l=l.parent.parent):(l===l.parent.right&&(l=l.parent,$(a,l)),l.parent.color=0,l.parent.parent.color=1,p(a,l.parent.parent))}else{const c=l.parent.parent.left;c.color===1?(l.parent.color=0,c.color=0,l.parent.parent.color=1,l=l.parent.parent):(l===l.parent.left&&(l=l.parent,p(a,l)),l.parent.color=0,l.parent.parent.color=1,$(a,l.parent.parent))}a.root.color=0}t.$HB=f;function C(a,l,c,e){for(;l!==a.root&&l!==t.$BB;)l.parent.left===l&&(l.parent.size_left+=c,l.parent.lf_left+=e),l=l.parent}t.$IB=C;function g(a,l){let c=0,e=0;if(l!==a.root){for(;l!==a.root&&l===l.parent.right;)l=l.parent;if(l!==a.root)for(l=l.parent,c=F(l.left)-l.size_left,e=Q(l.left)-l.lf_left,l.size_left+=c,l.lf_left+=e;l!==a.root&&(c!==0||e!==0);)l.parent.left===l&&(l.parent.size_left+=c,l.parent.lf_left+=e),l=l.parent}}t.$JB=g}),define(ht[8],at([0,1,37,9,18,17,19]),function(ct,t,G,D,T,O,F){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.$UB=t.$TB=t.$SB=t.$RB=t.$QB=void 0;const Q=65535;function B(c){let e;return c[c.length-1]<65536?e=new Uint16Array(c.length):e=new Uint32Array(c.length),e.set(c,0),e}class ${constructor(e,s,n,r,u){this.lineStarts=e,this.cr=s,this.lf=n,this.crlf=r,this.isBasicASCII=u}}function p(c,e=!0){const s=[0];let n=1;for(let r=0,u=c.length;r<u;r++){const m=c.charCodeAt(r);m===13?r+1<u&&c.charCodeAt(r+1)===10?(s[n++]=r+2,r++):s[n++]=r+1:m===10&&(s[n++]=r+1)}return e?B(s):s}t.$QB=p;function U(c,e){c.length=0,c[0]=0;let s=1,n=0,r=0,u=0,m=!0;for(let E=0,P=e.length;E<P;E++){const o=e.charCodeAt(E);o===13?E+1<P&&e.charCodeAt(E+1)===10?(u++,c[s++]=E+2,E++):(n++,c[s++]=E+1):o===10?(r++,c[s++]=E+1):m&&o!==9&&(o<32||o>126)&&(m=!1)}const v=new $(B(c),n,r,u,m);return c.length=0,v}t.$RB=U;class f{constructor(e,s,n,r,u){this.bufferIndex=e,this.start=s,this.end=n,this.lineFeedCnt=r,this.length=u}}t.$SB=f;class C{constructor(e,s){this.buffer=e,this.lineStarts=s}}t.$TB=C;class g{constructor(e,s){this.a=[],this.c=e,this.d=s,this.b=0,e.root!==O.$BB&&e.iterate(e.root,n=>(n!==O.$BB&&this.a.push(n.piece),!0))}read(){return this.a.length===0?this.b===0?(this.b++,this.d):null:this.b>this.a.length-1?null:this.b===0?this.d+this.c.getPieceContent(this.a[this.b++]):this.c.getPieceContent(this.a[this.b++])}}class a{constructor(e){this.a=e,this.b=[]}get(e){for(let s=this.b.length-1;s>=0;s--){const n=this.b[s];if(n.nodeStartOffset<=e&&n.nodeStartOffset+n.node.piece.length>=e)return n}return null}get2(e){for(let s=this.b.length-1;s>=0;s--){const n=this.b[s];if(n.nodeStartLineNumber&&n.nodeStartLineNumber<e&&n.nodeStartLineNumber+n.node.piece.lineFeedCnt>=e)return n}return null}set(e){this.b.length>=this.a&&this.b.shift(),this.b.push(e)}validate(e){let s=!1;const n=this.b;for(let r=0;r<n.length;r++){const u=n[r];if(u.node.parent===null||u.nodeStartOffset>=e){n[r]=null,s=!0;continue}}if(s){const r=[];for(const u of n)u!==null&&r.push(u);this.b=r}}}class l{constructor(e,s,n){this.create(e,s,n)}create(e,s,n){this.a=[new C("",[0])],this.g={line:0,column:0},this.root=O.$BB,this.b=1,this.c=0,this.d=s,this.e=s.length,this.f=n;let r=null;for(let u=0,m=e.length;u<m;u++)if(e[u].buffer.length>0){e[u].lineStarts||(e[u].lineStarts=p(e[u].buffer));const v=new f(u+1,{line:0,column:0},{line:e[u].lineStarts.length-1,column:e[u].buffer.length-e[u].lineStarts[e[u].lineStarts.length-1]},e[u].lineStarts.length-1,e[u].buffer.length);this.a.push(e[u]),r=this.S(r,v)}this.h=new a(1),this.j={lineNumber:0,value:""},this.y()}normalizeEOL(e){const s=Q,n=s-Math.floor(s/3),r=n*2;let u="",m=0;const v=[];if(this.iterate(this.root,E=>{const P=this.R(E),o=P.length;if(m<=n||m+o<r)return u+=P,m+=o,!0;const I=u.replace(/\r\n|\r|\n/g,e);return v.push(new C(I,p(I))),u=P,m=o,!0}),m>0){const E=u.replace(/\r\n|\r|\n/g,e);v.push(new C(E,p(E)))}this.create(v,e,!0)}getEOL(){return this.d}setEOL(e){this.d=e,this.e=this.d.length,this.normalizeEOL(e)}createSnapshot(e){return new g(this,e)}equal(e){if(this.getLength()!==e.getLength()||this.getLineCount()!==e.getLineCount())return!1;let s=0;return this.iterate(this.root,r=>{if(r===O.$BB)return!0;const u=this.R(r),m=u.length,v=e.G(s),E=e.G(s+m),P=e.getValueInRange2(v,E);return s+=m,u===P})}getOffsetAt(e,s){let n=0,r=this.root;for(;r!==O.$BB;)if(r.left!==O.$BB&&r.lf_left+1>=e)r=r.left;else if(r.lf_left+r.piece.lineFeedCnt+1>=e){n+=r.size_left;const u=this.B(r,e-r.lf_left-2);return n+=u+s-1}else e-=r.lf_left+r.piece.lineFeedCnt,n+=r.size_left+r.piece.length,r=r.right;return n}getPositionAt(e){e=Math.floor(e),e=Math.max(0,e);let s=this.root,n=0;const r=e;for(;s!==O.$BB;)if(s.size_left!==0&&s.size_left>=e)s=s.left;else if(s.size_left+s.piece.length>=e){const u=this.A(s,e-s.size_left);if(n+=s.lf_left+u.index,u.index===0){const m=this.getOffsetAt(n+1,1),v=r-m;return new G.$Fs(n+1,v+1)}return new G.$Fs(n+1,u.remainder+1)}else if(e-=s.size_left+s.piece.length,n+=s.lf_left+s.piece.lineFeedCnt,s.right===O.$BB){const u=this.getOffsetAt(n+1,1),m=r-e-u;return new G.$Fs(n+1,m+1)}else s=s.right;return new G.$Fs(1,1)}getValueInRange(e,s){if(e.startLineNumber===e.endLineNumber&&e.startColumn===e.endColumn)return"";const n=this.H(e.startLineNumber,e.startColumn),r=this.H(e.endLineNumber,e.endColumn),u=this.getValueInRange2(n,r);return s?s!==this.d||!this.f?u.replace(/\r\n|\r|\n/g,s):s===this.getEOL()&&this.f?u:u.replace(/\r\n|\r|\n/g,s):u}getValueInRange2(e,s){if(e.node===s.node){const v=e.node,E=this.a[v.piece.bufferIndex].buffer,P=this.u(v.piece.bufferIndex,v.piece.start);return E.substring(P+e.remainder,P+s.remainder)}let n=e.node;const r=this.a[n.piece.bufferIndex].buffer,u=this.u(n.piece.bufferIndex,n.piece.start);let m=r.substring(u+e.remainder,u+n.piece.length);for(n=n.next();n!==O.$BB;){const v=this.a[n.piece.bufferIndex].buffer,E=this.u(n.piece.bufferIndex,n.piece.start);if(n===s.node){m+=v.substring(E,E+s.remainder);break}else m+=v.substr(E,n.piece.length);n=n.next()}return m}getLinesContent(){const e=[];let s=0,n="",r=!1;return this.iterate(this.root,u=>{if(u===O.$BB)return!0;const m=u.piece;let v=m.length;if(v===0)return!0;const E=this.a[m.bufferIndex].buffer,P=this.a[m.bufferIndex].lineStarts,o=m.start.line,I=m.end.line;let j=P[o]+m.start.column;if(r&&(E.charCodeAt(j)===10&&(j++,v--),e[s++]=n,n="",r=!1,v===0))return!0;if(o===I)return!this.f&&E.charCodeAt(j+v-1)===13?(r=!0,n+=E.substr(j,v-1)):n+=E.substr(j,v),!0;n+=this.f?E.substring(j,Math.max(j,P[o+1]-this.e)):E.substring(j,P[o+1]).replace(/(\r\n|\r|\n)$/,""),e[s++]=n;for(let W=o+1;W<I;W++)n=this.f?E.substring(P[W],P[W+1]-this.e):E.substring(P[W],P[W+1]).replace(/(\r\n|\r|\n)$/,""),e[s++]=n;return!this.f&&E.charCodeAt(P[I]+m.end.column-1)===13?(r=!0,m.end.column===0?s--:n=E.substr(P[I],m.end.column-1)):n=E.substr(P[I],m.end.column),!0}),r&&(e[s++]=n,n=""),e[s++]=n,e}getLength(){return this.c}getLineCount(){return this.b}getLineContent(e){return this.j.lineNumber===e?this.j.value:(this.j.lineNumber=e,e===this.b?this.j.value=this.getLineRawContent(e):this.f?this.j.value=this.getLineRawContent(e,this.e):this.j.value=this.getLineRawContent(e).replace(/(\r\n|\r|\n)$/,""),this.j.value)}l(e){if(e.remainder===e.node.piece.length){const s=e.node.next();if(!s)return 0;const n=this.a[s.piece.bufferIndex],r=this.u(s.piece.bufferIndex,s.piece.start);return n.buffer.charCodeAt(r)}else{const s=this.a[e.node.piece.bufferIndex],r=this.u(e.node.piece.bufferIndex,e.node.piece.start)+e.remainder;return s.buffer.charCodeAt(r)}}getLineCharCode(e,s){const n=this.H(e,s+1);return this.l(n)}getLineLength(e){if(e===this.getLineCount()){const s=this.getOffsetAt(e,1);return this.getLength()-s}return this.getOffsetAt(e+1,1)-this.getOffsetAt(e,1)-this.e}getCharCode(e){const s=this.G(e);return this.l(s)}findMatchesInNode(e,s,n,r,u,m,v,E,P,o,I){const j=this.a[e.piece.bufferIndex],W=this.u(e.piece.bufferIndex,e.piece.start),k=this.u(e.piece.bufferIndex,u),b=this.u(e.piece.bufferIndex,m);let V;const _={line:0,column:0};let tt,st;s._wordSeparators?(tt=j.buffer.substring(k,b),st=et=>et+k,s.reset(0)):(tt=j.buffer,st=et=>et,s.reset(k));do if(V=s.next(tt),V){if(st(V.index)>=b)return o;this.s(e,st(V.index)-W,_);const et=this.t(e.piece.bufferIndex,u,_),nt=_.line===u.line?_.column-u.column+r:_.column+1,w=nt+V[0].length;if(I[o++]=(0,F.$MB)(new D.$Gs(n+et,nt,n+et,w),V,E),st(V.index)+V[0].length>=b||o>=P)return o}while(V);return o}findMatchesLineByLine(e,s,n,r){const u=[];let m=0;const v=new F.$PB(s.wordSeparators,s.regex);let E=this.H(e.startLineNumber,e.startColumn);if(E===null)return[];const P=this.H(e.endLineNumber,e.endColumn);if(P===null)return[];let o=this.s(E.node,E.remainder);const I=this.s(P.node,P.remainder);if(E.node===P.node)return this.findMatchesInNode(E.node,v,e.startLineNumber,e.startColumn,o,I,s,n,r,m,u),u;let j=e.startLineNumber,W=E.node;for(;W!==P.node;){const b=this.t(W.piece.bufferIndex,o,W.piece.end);if(b>=1){const _=this.a[W.piece.bufferIndex].lineStarts,tt=this.u(W.piece.bufferIndex,W.piece.start),st=_[o.line+b],et=j===e.startLineNumber?e.startColumn:1;if(m=this.findMatchesInNode(W,v,j,et,o,this.s(W,st-tt),s,n,r,m,u),m>=r)return u;j+=b}const V=j===e.startLineNumber?e.startColumn-1:0;if(j===e.endLineNumber){const _=this.getLineContent(j).substring(V,e.endColumn-1);return m=this.n(s,v,_,e.endLineNumber,V,m,u,n,r),u}if(m=this.n(s,v,this.getLineContent(j).substr(V),j,V,m,u,n,r),m>=r)return u;j++,E=this.H(j,1),W=E.node,o=this.s(E.node,E.remainder)}if(j===e.endLineNumber){const b=j===e.startLineNumber?e.startColumn-1:0,V=this.getLineContent(j).substring(b,e.endColumn-1);return m=this.n(s,v,V,e.endLineNumber,b,m,u,n,r),u}const k=j===e.startLineNumber?e.startColumn:1;return m=this.findMatchesInNode(P.node,v,j,k,o,I,s,n,r,m,u),u}n(e,s,n,r,u,m,v,E,P){const o=e.wordSeparators;if(!E&&e.simpleSearch){const j=e.simpleSearch,W=j.length,k=n.length;let b=-W;for(;(b=n.indexOf(j,b+W))!==-1;)if((!o||(0,F.$OB)(o,n,k,b,W))&&(v[m++]=new T.$Yu(new D.$Gs(r,b+1+u,r,b+1+W+u),null),m>=P))return m;return m}let I;s.reset(0);do if(I=s.next(n),I&&(v[m++]=(0,F.$MB)(new D.$Gs(r,I.index+1+u,r,I.index+1+I[0].length+u),I,E),m>=P))return m;while(I);return m}insert(e,s,n=!1){if(this.f=this.f&&n,this.j.lineNumber=0,this.j.value="",this.root!==O.$BB){const{node:r,remainder:u,nodeStartOffset:m}=this.G(e),v=r.piece,E=v.bufferIndex,P=this.s(r,u);if(r.piece.bufferIndex===0&&v.end.line===this.g.line&&v.end.column===this.g.column&&m+v.length===e&&s.length<Q){this.F(r,s),this.y();return}if(m===e)this.o(s,r),this.h.validate(e);else if(m+r.piece.length>e){const o=[];let I=new f(v.bufferIndex,P,v.end,this.t(v.bufferIndex,P,v.end),this.u(E,v.end)-this.u(E,P));if(this.K()&&this.M(s)&&this.I(r,u)===10){const b={line:I.start.line+1,column:0};I=new f(I.bufferIndex,b,I.end,this.t(I.bufferIndex,b,I.end),I.length-1),s+=`
`}if(this.K()&&this.L(s))if(this.I(r,u-1)===13){const b=this.s(r,u-1);this.C(r,b),s="\r"+s,r.piece.length===0&&o.push(r)}else this.C(r,P);else this.C(r,P);const j=this.w(s);I.length>0&&this.S(r,I);let W=r;for(let k=0;k<j.length;k++)W=this.S(W,j[k]);this.v(o)}else this.q(s,r)}else{const r=this.w(s);let u=this.T(null,r[0]);for(let m=1;m<r.length;m++)u=this.S(u,r[m])}this.y()}delete(e,s){if(this.j.lineNumber=0,this.j.value="",s<=0||this.root===O.$BB)return;const n=this.G(e),r=this.G(e+s),u=n.node,m=r.node;if(u===m){const j=this.s(u,n.remainder),W=this.s(u,r.remainder);if(n.nodeStartOffset===e){if(s===u.piece.length){const k=u.next();(0,O.$GB)(this,u),this.N(k),this.y();return}this.D(u,W),this.h.validate(e),this.N(u),this.y();return}if(n.nodeStartOffset+u.piece.length===e+s){this.C(u,j),this.O(u),this.y();return}this.E(u,j,W),this.y();return}const v=[],E=this.s(u,n.remainder);this.C(u,E),this.h.validate(e),u.piece.length===0&&v.push(u);const P=this.s(m,r.remainder);this.D(m,P),m.piece.length===0&&v.push(m);const o=u.next();for(let j=o;j!==O.$BB&&j!==m;j=j.next())v.push(j);const I=u.piece.length===0?u.prev():u;this.v(v),this.O(I),this.y()}o(e,s){const n=[];if(this.K()&&this.M(e)&&this.L(s)){const m=s.piece,v={line:m.start.line+1,column:0},E=new f(m.bufferIndex,v,m.end,this.t(m.bufferIndex,v,m.end),m.length-1);s.piece=E,e+=`
`,(0,O.$IB)(this,s,-1,-1),s.piece.length===0&&n.push(s)}const r=this.w(e);let u=this.T(s,r[r.length-1]);for(let m=r.length-2;m>=0;m--)u=this.T(u,r[m]);this.N(u),this.v(n)}q(e,s){this.Q(e,s)&&(e+=`
`);const n=this.w(e),r=this.S(s,n[0]);let u=r;for(let m=1;m<n.length;m++)u=this.S(u,n[m]);this.N(r)}s(e,s,n){const r=e.piece,u=e.piece.bufferIndex,m=this.a[u].lineStarts,E=m[r.start.line]+r.start.column+s;let P=r.start.line,o=r.end.line,I=0,j=0,W=0;for(;P<=o&&(I=P+(o-P)/2|0,W=m[I],I!==o);)if(j=m[I+1],E<W)o=I-1;else if(E>=j)P=I+1;else break;return n?(n.line=I,n.column=E-W,null):{line:I,column:E-W}}t(e,s,n){if(n.column===0)return n.line-s.line;const r=this.a[e].lineStarts;if(n.line===r.length-1)return n.line-s.line;const u=r[n.line+1],m=r[n.line]+n.column;if(u>m+1)return n.line-s.line;const v=m-1;return this.a[e].buffer.charCodeAt(v)===13?n.line-s.line+1:n.line-s.line}u(e,s){return this.a[e].lineStarts[s.line]+s.column}v(e){for(let s=0;s<e.length;s++)(0,O.$GB)(this,e[s])}w(e){if(e.length>Q){const o=[];for(;e.length>Q;){const j=e.charCodeAt(Q-1);let W;j===13||j>=55296&&j<=56319?(W=e.substring(0,Q-1),e=e.substring(Q-1)):(W=e.substring(0,Q),e=e.substring(Q));const k=p(W);o.push(new f(this.a.length,{line:0,column:0},{line:k.length-1,column:W.length-k[k.length-1]},k.length-1,W.length)),this.a.push(new C(W,k))}const I=p(e);return o.push(new f(this.a.length,{line:0,column:0},{line:I.length-1,column:e.length-I[I.length-1]},I.length-1,e.length)),this.a.push(new C(e,I)),o}let s=this.a[0].buffer.length;const n=p(e,!1);let r=this.g;if(this.a[0].lineStarts[this.a[0].lineStarts.length-1]===s&&s!==0&&this.L(e)&&this.M(this.a[0].buffer)){this.g={line:this.g.line,column:this.g.column+1},r=this.g;for(let o=0;o<n.length;o++)n[o]+=s+1;this.a[0].lineStarts=this.a[0].lineStarts.concat(n.slice(1)),this.a[0].buffer+="_"+e,s+=1}else{if(s!==0)for(let o=0;o<n.length;o++)n[o]+=s;this.a[0].lineStarts=this.a[0].lineStarts.concat(n.slice(1)),this.a[0].buffer+=e}const u=this.a[0].buffer.length,m=this.a[0].lineStarts.length-1,v=u-this.a[0].lineStarts[m],E={line:m,column:v},P=new f(0,r,E,this.t(0,r,E),u-s);return this.g=E,[P]}getLinesRawContent(){return this.U(this.root)}getLineRawContent(e,s=0){let n=this.root,r="";const u=this.h.get2(e);if(u){n=u.node;const m=this.B(n,e-u.nodeStartLineNumber-1),v=this.a[n.piece.bufferIndex].buffer,E=this.u(n.piece.bufferIndex,n.piece.start);if(u.nodeStartLineNumber+n.piece.lineFeedCnt===e)r=v.substring(E+m,E+n.piece.length);else{const P=this.B(n,e-u.nodeStartLineNumber);return v.substring(E+m,E+P-s)}}else{let m=0;const v=e;for(;n!==O.$BB;)if(n.left!==O.$BB&&n.lf_left>=e-1)n=n.left;else if(n.lf_left+n.piece.lineFeedCnt>e-1){const E=this.B(n,e-n.lf_left-2),P=this.B(n,e-n.lf_left-1),o=this.a[n.piece.bufferIndex].buffer,I=this.u(n.piece.bufferIndex,n.piece.start);return m+=n.size_left,this.h.set({node:n,nodeStartOffset:m,nodeStartLineNumber:v-(e-1-n.lf_left)}),o.substring(I+E,I+P-s)}else if(n.lf_left+n.piece.lineFeedCnt===e-1){const E=this.B(n,e-n.lf_left-2),P=this.a[n.piece.bufferIndex].buffer,o=this.u(n.piece.bufferIndex,n.piece.start);r=P.substring(o+E,o+n.piece.length);break}else e-=n.lf_left+n.piece.lineFeedCnt,m+=n.size_left+n.piece.length,n=n.right}for(n=n.next();n!==O.$BB;){const m=this.a[n.piece.bufferIndex].buffer;if(n.piece.lineFeedCnt>0){const v=this.B(n,0),E=this.u(n.piece.bufferIndex,n.piece.start);return r+=m.substring(E,E+v-s),r}else{const v=this.u(n.piece.bufferIndex,n.piece.start);r+=m.substr(v,n.piece.length)}n=n.next()}return r}y(){let e=this.root,s=1,n=0;for(;e!==O.$BB;)s+=e.lf_left+e.piece.lineFeedCnt,n+=e.size_left+e.piece.length,e=e.right;this.b=s,this.c=n,this.h.validate(this.c)}A(e,s){const n=e.piece,r=this.s(e,s),u=r.line-n.start.line;if(this.u(n.bufferIndex,n.end)-this.u(n.bufferIndex,n.start)===s){const m=this.t(e.piece.bufferIndex,n.start,r);if(m!==u)return{index:m,remainder:0}}return{index:u,remainder:r.column}}B(e,s){if(s<0)return 0;const n=e.piece,r=this.a[n.bufferIndex].lineStarts,u=n.start.line+s+1;return u>n.end.line?r[n.end.line]+n.end.column-r[n.start.line]-n.start.column:r[u]-r[n.start.line]-n.start.column}C(e,s){const n=e.piece,r=n.lineFeedCnt,u=this.u(n.bufferIndex,n.end),m=s,v=this.u(n.bufferIndex,m),E=this.t(n.bufferIndex,n.start,m),P=E-r,o=v-u,I=n.length+o;e.piece=new f(n.bufferIndex,n.start,m,E,I),(0,O.$IB)(this,e,o,P)}D(e,s){const n=e.piece,r=n.lineFeedCnt,u=this.u(n.bufferIndex,n.start),m=s,v=this.t(n.bufferIndex,m,n.end),E=this.u(n.bufferIndex,m),P=v-r,o=u-E,I=n.length+o;e.piece=new f(n.bufferIndex,m,n.end,v,I),(0,O.$IB)(this,e,o,P)}E(e,s,n){const r=e.piece,u=r.start,m=r.end,v=r.length,E=r.lineFeedCnt,P=s,o=this.t(r.bufferIndex,r.start,P),I=this.u(r.bufferIndex,s)-this.u(r.bufferIndex,u);e.piece=new f(r.bufferIndex,r.start,P,o,I),(0,O.$IB)(this,e,I-v,o-E);const j=new f(r.bufferIndex,n,m,this.t(r.bufferIndex,n,m),this.u(r.bufferIndex,m)-this.u(r.bufferIndex,n)),W=this.S(e,j);this.N(W)}F(e,s){this.Q(s,e)&&(s+=`
`);const n=this.K()&&this.L(s)&&this.M(e),r=this.a[0].buffer.length;this.a[0].buffer+=s;const u=p(s,!1);for(let W=0;W<u.length;W++)u[W]+=r;if(n){const W=this.a[0].lineStarts[this.a[0].lineStarts.length-2];this.a[0].lineStarts.pop(),this.g={line:this.g.line-1,column:r-W}}this.a[0].lineStarts=this.a[0].lineStarts.concat(u.slice(1));const m=this.a[0].lineStarts.length-1,v=this.a[0].buffer.length-this.a[0].lineStarts[m],E={line:m,column:v},P=e.piece.length+s.length,o=e.piece.lineFeedCnt,I=this.t(0,e.piece.start,E),j=I-o;e.piece=new f(e.piece.bufferIndex,e.piece.start,E,I,P),this.g=E,(0,O.$IB)(this,e,s.length,j)}G(e){let s=this.root;const n=this.h.get(e);if(n)return{node:n.node,nodeStartOffset:n.nodeStartOffset,remainder:e-n.nodeStartOffset};let r=0;for(;s!==O.$BB;)if(s.size_left>e)s=s.left;else if(s.size_left+s.piece.length>=e){r+=s.size_left;const u={node:s,remainder:e-s.size_left,nodeStartOffset:r};return this.h.set(u),u}else e-=s.size_left+s.piece.length,r+=s.size_left+s.piece.length,s=s.right;return null}H(e,s){let n=this.root,r=0;for(;n!==O.$BB;)if(n.left!==O.$BB&&n.lf_left>=e-1)n=n.left;else if(n.lf_left+n.piece.lineFeedCnt>e-1){const u=this.B(n,e-n.lf_left-2),m=this.B(n,e-n.lf_left-1);return r+=n.size_left,{node:n,remainder:Math.min(u+s-1,m),nodeStartOffset:r}}else if(n.lf_left+n.piece.lineFeedCnt===e-1){const u=this.B(n,e-n.lf_left-2);if(u+s-1<=n.piece.length)return{node:n,remainder:u+s-1,nodeStartOffset:r};s-=n.piece.length-u;break}else e-=n.lf_left+n.piece.lineFeedCnt,r+=n.size_left+n.piece.length,n=n.right;for(n=n.next();n!==O.$BB;){if(n.piece.lineFeedCnt>0){const u=this.B(n,0),m=this.J(n);return{node:n,remainder:Math.min(s-1,u),nodeStartOffset:m}}else if(n.piece.length>=s-1){const u=this.J(n);return{node:n,remainder:s-1,nodeStartOffset:u}}else s-=n.piece.length;n=n.next()}return null}I(e,s){if(e.piece.lineFeedCnt<1)return-1;const n=this.a[e.piece.bufferIndex],r=this.u(e.piece.bufferIndex,e.piece.start)+s;return n.buffer.charCodeAt(r)}J(e){if(!e)return 0;let s=e.size_left;for(;e!==this.root;)e.parent.right===e&&(s+=e.parent.size_left+e.parent.piece.length),e=e.parent;return s}K(){return!(this.f&&this.d===`
`)}L(e){if(typeof e=="string")return e.charCodeAt(0)===10;if(e===O.$BB||e.piece.lineFeedCnt===0)return!1;const s=e.piece,n=this.a[s.bufferIndex].lineStarts,r=s.start.line,u=n[r]+s.start.column;return r===n.length-1||n[r+1]>u+1?!1:this.a[s.bufferIndex].buffer.charCodeAt(u)===10}M(e){return typeof e=="string"?e.charCodeAt(e.length-1)===13:e===O.$BB||e.piece.lineFeedCnt===0?!1:this.I(e,e.piece.length-1)===13}N(e){if(this.K()&&this.L(e)){const s=e.prev();this.M(s)&&this.P(s,e)}}O(e){if(this.K()&&this.M(e)){const s=e.next();this.L(s)&&this.P(e,s)}}P(e,s){const n=[],r=this.a[e.piece.bufferIndex].lineStarts;let u;e.piece.end.column===0?u={line:e.piece.end.line-1,column:r[e.piece.end.line]-r[e.piece.end.line-1]-1}:u={line:e.piece.end.line,column:e.piece.end.column-1};const m=e.piece.length-1,v=e.piece.lineFeedCnt-1;e.piece=new f(e.piece.bufferIndex,e.piece.start,u,v,m),(0,O.$IB)(this,e,-1,-1),e.piece.length===0&&n.push(e);const E={line:s.piece.start.line+1,column:0},P=s.piece.length-1,o=this.t(s.piece.bufferIndex,E,s.piece.end);s.piece=new f(s.piece.bufferIndex,E,s.piece.end,o,P),(0,O.$IB)(this,s,-1,-1),s.piece.length===0&&n.push(s);const I=this.w(`\r
`);this.S(e,I[0]);for(let j=0;j<n.length;j++)(0,O.$GB)(this,n[j])}Q(e,s){if(this.K()&&this.M(e)){const n=s.next();if(this.L(n)){if(e+=`
`,n.piece.length===1)(0,O.$GB)(this,n);else{const r=n.piece,u={line:r.start.line+1,column:0},m=r.length-1,v=this.t(r.bufferIndex,u,r.end);n.piece=new f(r.bufferIndex,u,r.end,v,m),(0,O.$IB)(this,n,-1,-1)}return!0}}return!1}iterate(e,s){if(e===O.$BB)return s(O.$BB);const n=this.iterate(e.left,s);return n&&s(e)&&this.iterate(e.right,s)}R(e){if(e===O.$BB)return"";const s=this.a[e.piece.bufferIndex],n=e.piece,r=this.u(n.bufferIndex,n.start),u=this.u(n.bufferIndex,n.end);return s.buffer.substring(r,u)}getPieceContent(e){const s=this.a[e.bufferIndex],n=this.u(e.bufferIndex,e.start),r=this.u(e.bufferIndex,e.end);return s.buffer.substring(n,r)}S(e,s){const n=new O.$AB(s,1);if(n.left=O.$BB,n.right=O.$BB,n.parent=O.$BB,n.size_left=0,n.lf_left=0,this.root===O.$BB)this.root=n,n.color=0;else if(e.right===O.$BB)e.right=n,n.parent=e;else{const u=(0,O.$CB)(e.right);u.left=n,n.parent=u}return(0,O.$HB)(this,n),n}T(e,s){const n=new O.$AB(s,1);if(n.left=O.$BB,n.right=O.$BB,n.parent=O.$BB,n.size_left=0,n.lf_left=0,this.root===O.$BB)this.root=n,n.color=0;else if(e.left===O.$BB)e.left=n,n.parent=e;else{const r=(0,O.$DB)(e.left);r.right=n,n.parent=r}return(0,O.$HB)(this,n),n}U(e){let s="";return this.iterate(e,n=>(s+=this.R(n),!0)),s}}t.$UB=l}),define(ht[10],at([0,1,5,2,3,38]),function(ct,t,G,D,T,O){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.$_f=t.$$f=t.$0f=t.$9f=t.$8f=t.$7f=t.$6f=t.$5f=t.$4f=t.$3f=t.$2f=t.$1f=t.$Zf=t.$Yf=t.$Xf=t.$Wf=void 0;function F(o){return o===47||o===92}t.$Wf=F;function Q(o){return o.replace(/[\\/]/g,G.$gc.sep)}t.$Xf=Q;function B(o){return o.indexOf("/")===-1&&(o=Q(o)),/^[a-zA-Z]:(\/|$)/.test(o)&&(o="/"+o),o}t.$Yf=B;function $(o,I=G.$gc.sep){if(!o)return"";const j=o.length,W=o.charCodeAt(0);if(F(W)){if(F(o.charCodeAt(1))&&!F(o.charCodeAt(2))){let b=3;const V=b;for(;b<j&&!F(o.charCodeAt(b));b++);if(V!==b&&!F(o.charCodeAt(b+1))){for(b+=1;b<j;b++)if(F(o.charCodeAt(b)))return o.slice(0,b+1).replace(/[\\/]/g,I)}}return I}else if(c(W)&&o.charCodeAt(1)===58)return F(o.charCodeAt(2))?o.slice(0,2)+I:o.slice(0,2);let k=o.indexOf("://");if(k!==-1){for(k+=3;k<j;k++)if(F(o.charCodeAt(k)))return o.slice(0,k+1)}return""}t.$Zf=$;function p(o){if(!D.$i||!o||o.length<5)return!1;let I=o.charCodeAt(0);if(I!==92||(I=o.charCodeAt(1),I!==92))return!1;let j=2;const W=j;for(;j<o.length&&(I=o.charCodeAt(j),I!==92);j++);return!(W===j||(I=o.charCodeAt(j+1),isNaN(I)||I===92))}t.$1f=p;const U=/[\\/:\*\?"<>\|]/g,f=/[\\/]/g,C=/^(con|prn|aux|clock\$|nul|lpt[0-9]|com[0-9])(\.(.*?))?$/i;function g(o,I=D.$i){const j=I?U:f;return!(!o||o.length===0||/^\s+$/.test(o)||(j.lastIndex=0,j.test(o))||I&&C.test(o)||o==="."||o===".."||I&&o[o.length-1]==="."||I&&o.length!==o.trim().length||o.length>255)}t.$2f=g;function a(o,I,j){const W=o===I;return!j||W?W:!o||!I?!1:(0,T.$8e)(o,I)}t.$3f=a;function l(o,I,j,W=G.sep){if(o===I)return!0;if(!o||!I||I.length>o.length)return!1;if(j){if(!(0,T.$9e)(o,I))return!1;if(I.length===o.length)return!0;let b=I.length;return I.charAt(I.length-1)===W&&b--,o.charAt(b)===W}return I.charAt(I.length-1)!==W&&(I+=W),o.indexOf(I)===0}t.$4f=l;function c(o){return o>=65&&o<=90||o>=97&&o<=122}t.$5f=c;function e(o,I){return D.$i&&o.endsWith(":")&&(o+=G.sep),(0,G.$ic)(o)||(o=(0,G.$jc)(I,o)),o=(0,G.$hc)(o),D.$i?(o=(0,T.$Qe)(o,G.sep),o.endsWith(":")&&(o+=G.sep)):(o=(0,T.$Qe)(o,G.sep),o||(o=G.sep)),o}t.$6f=e;function s(o){const I=(0,G.$hc)(o);return D.$i?o.length>3?!1:n(I)&&(o.length===2||I.charCodeAt(2)===92):I===G.$gc.sep}t.$7f=s;function n(o,I=D.$i){return I?c(o.charCodeAt(0))&&o.charCodeAt(1)===58:!1}t.$8f=n;function r(o,I=D.$i){return n(o,I)?o[0]:void 0}t.$9f=r;function u(o,I,j){return I.length>o.length?-1:o===I?0:(j&&(o=o.toLowerCase(),I=I.toLowerCase()),o.indexOf(I))}t.$0f=u;function m(o){const I=o.split(":");let j,W,k;for(const b of I){const V=Number(b);(0,O.$If)(V)?W===void 0?W=V:k===void 0&&(k=V):j=j?[j,b].join(":"):b}if(!j)throw new Error("Format for `--goto` should be: `FILE:LINE(:COLUMN)`");return{path:j,line:W!==void 0?W:void 0,column:k!==void 0?k:W!==void 0?1:void 0}}t.$$f=m;const v="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",E="BDEFGHIJKMOQRSTUVWXYZbdefghijkmoqrstuvwxyz0123456789";function P(o,I,j=8){let W="";for(let b=0;b<j;b++){let V;b===0&&D.$i&&!I&&(j===3||j===4)?V=E:V=v,W+=V.charAt(Math.floor(Math.random()*V.length))}let k;return I?k=`${I}-${W}`:k=W,o?(0,G.$jc)(o,k):k}t.$_f=P}),define(ht[20],at([0,1,5]),function(ct,t,G){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.$7r=t.$6r=t.$5r=t.$4r=t.$3r=void 0,t.$3r=Object.freeze({text:"text/plain",binary:"application/octet-stream",unknown:"application/unknown",markdown:"text/markdown",latex:"text/latex",uriList:"text/uri-list"});const D={".css":"text/css",".csv":"text/csv",".htm":"text/html",".html":"text/html",".ics":"text/calendar",".js":"text/javascript",".mjs":"text/javascript",".txt":"text/plain",".xml":"text/xml"},T={".aac":"audio/x-aac",".avi":"video/x-msvideo",".bmp":"image/bmp",".flv":"video/x-flv",".gif":"image/gif",".ico":"image/x-icon",".jpe":"image/jpg",".jpeg":"image/jpg",".jpg":"image/jpg",".m1v":"video/mpeg",".m2a":"audio/mpeg",".m2v":"video/mpeg",".m3a":"audio/mpeg",".mid":"audio/midi",".midi":"audio/midi",".mk3d":"video/x-matroska",".mks":"video/x-matroska",".mkv":"video/x-matroska",".mov":"video/quicktime",".movie":"video/x-sgi-movie",".mp2":"audio/mpeg",".mp2a":"audio/mpeg",".mp3":"audio/mpeg",".mp4":"video/mp4",".mp4a":"audio/mp4",".mp4v":"video/mp4",".mpe":"video/mpeg",".mpeg":"video/mpeg",".mpg":"video/mpeg",".mpg4":"video/mp4",".mpga":"audio/mpeg",".oga":"audio/ogg",".ogg":"audio/ogg",".opus":"audio/opus",".ogv":"video/ogg",".png":"image/png",".psd":"image/vnd.adobe.photoshop",".qt":"video/quicktime",".spx":"audio/ogg",".svg":"image/svg+xml",".tga":"image/x-tga",".tif":"image/tiff",".tiff":"image/tiff",".wav":"audio/x-wav",".webm":"video/webm",".webp":"image/webp",".wma":"audio/x-ms-wma",".wmv":"video/x-ms-wmv",".woff":"application/font-woff"};function O(p){const U=(0,G.$oc)(p),f=D[U.toLowerCase()];return f!==void 0?f:F(p)}t.$4r=O;function F(p){const U=(0,G.$oc)(p);return T[U.toLowerCase()]}t.$5r=F;function Q(p){for(const U in T)if(T[U]===p)return U}t.$6r=Q;const B=/^(.+)\/(.+?)(;.+)?$/;function $(p,U){const f=B.exec(p);return f?`${f[1].toLowerCase()}/${f[2].toLowerCase()}${f[3]??""}`:U?void 0:p}t.$7r=$}),define(ht[11],at([0,1,4,2,3,12]),function(ct,t,G,D,T,O){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.COI=t.$kg=t.$jg=t.$ig=t.$hg=t.$gg=t.$fg=t.$eg=t.$dg=t.$cg=t.$bg=t.$ag=t.Schemas=void 0;var F;(function(f){f.inMemory="inmemory",f.vscode="vscode",f.internal="private",f.walkThrough="walkThrough",f.walkThroughSnippet="walkThroughSnippet",f.http="http",f.https="https",f.file="file",f.mailto="mailto",f.untitled="untitled",f.data="data",f.command="command",f.vscodeRemote="vscode-remote",f.vscodeRemoteResource="vscode-remote-resource",f.vscodeManagedRemoteResource="vscode-managed-remote-resource",f.vscodeUserData="vscode-userdata",f.vscodeCustomEditor="vscode-custom-editor",f.vscodeNotebookCell="vscode-notebook-cell",f.vscodeNotebookCellMetadata="vscode-notebook-cell-metadata",f.vscodeNotebookCellOutput="vscode-notebook-cell-output",f.vscodeInteractiveInput="vscode-interactive-input",f.vscodeSettings="vscode-settings",f.vscodeWorkspaceTrust="vscode-workspace-trust",f.vscodeTerminal="vscode-terminal",f.vscodeChatSesssion="vscode-chat-editor",f.webviewPanel="webview-panel",f.vscodeWebview="vscode-webview",f.extension="extension",f.vscodeFileResource="vscode-file",f.tmp="tmp",f.vsls="vsls",f.vscodeSourceControl="vscode-scm"})(F||(t.Schemas=F={}));function Q(f,C){return O.URI.isUri(f)?(0,T.$8e)(f.scheme,C):(0,T.$9e)(f,C+":")}t.$ag=Q;function B(f,...C){return C.some(g=>Q(f,g))}t.$bg=B,t.$cg="vscode-tkn",t.$dg="tkn";class ${constructor(){this.a=Object.create(null),this.b=Object.create(null),this.c=Object.create(null),this.d="http",this.e=null,this.f=`/${F.vscodeRemoteResource}`}setPreferredWebSchema(C){this.d=C}setDelegate(C){this.e=C}setServerRootPath(C){this.f=`${C}/${F.vscodeRemoteResource}`}set(C,g,a){this.a[C]=g,this.b[C]=a}setConnectionToken(C,g){this.c[C]=g}getPreferredWebSchema(){return this.d}rewrite(C){if(this.e)try{return this.e(C)}catch(s){return G.$1(s),C}const g=C.authority;let a=this.a[g];a&&a.indexOf(":")!==-1&&a.indexOf("[")===-1&&(a=`[${a}]`);const l=this.b[g],c=this.c[g];let e=`path=${encodeURIComponent(C.path)}`;return typeof c=="string"&&(e+=`&${t.$dg}=${encodeURIComponent(c)}`),O.URI.from({scheme:D.$o?this.d:F.vscodeRemoteResource,authority:`${a}:${l}`,path:this.f,query:e})}}t.$eg=new $,t.$fg="vs/../../extensions",t.$gg="vs/../../node_modules",t.$hg="vs/../../node_modules.asar",t.$ig="vs/../../node_modules.asar.unpacked",t.$jg="vscode-app";class p{static{this.a=t.$jg}asBrowserUri(C){const g=this.b(C,ct);return this.uriToBrowserUri(g)}uriToBrowserUri(C){return C.scheme===F.vscodeRemote?t.$eg.rewrite(C):C.scheme===F.file&&(D.$m||D.$q===`${F.vscodeFileResource}://${p.a}`)?C.with({scheme:F.vscodeFileResource,authority:C.authority||p.a,query:null,fragment:null}):C}asFileUri(C){const g=this.b(C,ct);return this.uriToFileUri(g)}uriToFileUri(C){return C.scheme===F.vscodeFileResource?C.with({scheme:F.file,authority:C.authority!==p.a?C.authority:null,query:null,fragment:null}):C}b(C,g){return O.URI.isUri(C)?C:O.URI.parse(g.toUrl(C))}}t.$kg=new p;var U;(function(f){const C=new Map([["1",{"Cross-Origin-Opener-Policy":"same-origin"}],["2",{"Cross-Origin-Embedder-Policy":"require-corp"}],["3",{"Cross-Origin-Opener-Policy":"same-origin","Cross-Origin-Embedder-Policy":"require-corp"}]]);f.CoopAndCoep=Object.freeze(C.get("3"));const g="vscode-coi";function a(c){let e;typeof c=="string"?e=new URL(c).searchParams:c instanceof URL?e=c.searchParams:O.URI.isUri(c)&&(e=new URL(c.toString(!0)).searchParams);const s=e?.get(g);if(s)return C.get(s)}f.getHeadersFromQuery=a;function l(c,e,s){if(!globalThis.crossOriginIsolated)return;const n=e&&s?"3":s?"2":"1";c instanceof URLSearchParams?c.set(g,n):c[g]=n}f.addSearchParam=l})(U||(t.COI=U={}))}),define(ht[21],at([0,1,10,11,5,2,3,12]),function(ct,t,G,D,T,O,F,Q){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.$Ng=t.DataUri=t.$Mg=t.$Lg=t.$Kg=t.$Jg=t.$Ig=t.$Hg=t.$Gg=t.$Fg=t.$Eg=t.$Dg=t.$Cg=t.$Bg=t.$Ag=t.$zg=t.$yg=t.$xg=t.$wg=t.$vg=t.$ug=t.$tg=t.$sg=t.$rg=void 0;function B(C){return(0,Q.$wc)(C,!0)}t.$rg=B;class ${constructor(g){this.a=g}compare(g,a,l=!1){return g===a?0:(0,F.$1e)(this.getComparisonKey(g,l),this.getComparisonKey(a,l))}isEqual(g,a,l=!1){return g===a?!0:!g||!a?!1:this.getComparisonKey(g,l)===this.getComparisonKey(a,l)}getComparisonKey(g,a=!1){return g.with({path:this.a(g)?g.path.toLowerCase():void 0,fragment:a?null:void 0}).toString()}ignorePathCasing(g){return this.a(g)}isEqualOrParent(g,a,l=!1){if(g.scheme===a.scheme){if(g.scheme===D.Schemas.file)return G.$4f(B(g),B(a),this.a(g))&&g.query===a.query&&(l||g.fragment===a.fragment);if((0,t.$Ig)(g.authority,a.authority))return G.$4f(g.path,a.path,this.a(g),"/")&&g.query===a.query&&(l||g.fragment===a.fragment)}return!1}joinPath(g,...a){return Q.URI.joinPath(g,...a)}basenameOrAuthority(g){return(0,t.$Ag)(g)||g.authority}basename(g){return T.$gc.basename(g.path)}extname(g){return T.$gc.extname(g.path)}dirname(g){if(g.path.length===0)return g;let a;return g.scheme===D.Schemas.file?a=Q.URI.file(T.$mc(B(g))).path:(a=T.$gc.dirname(g.path),g.authority&&a.length&&a.charCodeAt(0)!==47&&(console.error(`dirname("${g.toString})) resulted in a relative path`),a="/")),g.with({path:a})}normalizePath(g){if(!g.path.length)return g;let a;return g.scheme===D.Schemas.file?a=Q.URI.file(T.$hc(B(g))).path:a=T.$gc.normalize(g.path),g.with({path:a})}relativePath(g,a){if(g.scheme!==a.scheme||!(0,t.$Ig)(g.authority,a.authority))return;if(g.scheme===D.Schemas.file){const e=T.$lc(B(g),B(a));return O.$i?G.$Xf(e):e}let l=g.path||"/";const c=a.path||"/";if(this.a(g)){let e=0;for(const s=Math.min(l.length,c.length);e<s&&!(l.charCodeAt(e)!==c.charCodeAt(e)&&l.charAt(e).toLowerCase()!==c.charAt(e).toLowerCase());e++);l=c.substr(0,e)+l.substr(e)}return T.$gc.relative(l,c)}resolvePath(g,a){if(g.scheme===D.Schemas.file){const l=Q.URI.file(T.$kc(B(g),a));return g.with({authority:l.authority,path:l.path})}return a=G.$Yf(a),g.with({path:T.$gc.resolve(g.path,a)})}isAbsolutePath(g){return!!g.path&&g.path[0]==="/"}isEqualAuthority(g,a){return g===a||g!==void 0&&a!==void 0&&(0,F.$8e)(g,a)}hasTrailingPathSeparator(g,a=T.sep){if(g.scheme===D.Schemas.file){const l=B(g);return l.length>G.$Zf(l).length&&l[l.length-1]===a}else{const l=g.path;return l.length>1&&l.charCodeAt(l.length-1)===47&&!/^[a-zA-Z]:(\/$|\\$)/.test(g.fsPath)}}removeTrailingPathSeparator(g,a=T.sep){return(0,t.$Jg)(g,a)?g.with({path:g.path.substr(0,g.path.length-1)}):g}addTrailingPathSeparator(g,a=T.sep){let l=!1;if(g.scheme===D.Schemas.file){const c=B(g);l=c!==void 0&&c.length===G.$Zf(c).length&&c[c.length-1]===a}else{a="/";const c=g.path;l=c.length===1&&c.charCodeAt(c.length-1)===47}return!l&&!(0,t.$Jg)(g,a)?g.with({path:g.path+"/"}):g}}t.$sg=$,t.$tg=new $(()=>!1),t.$ug=new $(C=>C.scheme===D.Schemas.file?!O.$k:!0),t.$vg=new $(C=>!0),t.$wg=t.$tg.isEqual.bind(t.$tg),t.$xg=t.$tg.isEqualOrParent.bind(t.$tg),t.$yg=t.$tg.getComparisonKey.bind(t.$tg),t.$zg=t.$tg.basenameOrAuthority.bind(t.$tg),t.$Ag=t.$tg.basename.bind(t.$tg),t.$Bg=t.$tg.extname.bind(t.$tg),t.$Cg=t.$tg.dirname.bind(t.$tg),t.$Dg=t.$tg.joinPath.bind(t.$tg),t.$Eg=t.$tg.normalizePath.bind(t.$tg),t.$Fg=t.$tg.relativePath.bind(t.$tg),t.$Gg=t.$tg.resolvePath.bind(t.$tg),t.$Hg=t.$tg.isAbsolutePath.bind(t.$tg),t.$Ig=t.$tg.isEqualAuthority.bind(t.$tg),t.$Jg=t.$tg.hasTrailingPathSeparator.bind(t.$tg),t.$Kg=t.$tg.removeTrailingPathSeparator.bind(t.$tg),t.$Lg=t.$tg.addTrailingPathSeparator.bind(t.$tg);function p(C,g){const a=[];for(let l=0;l<C.length;l++){const c=g(C[l]);C.some((e,s)=>s===l?!1:(0,t.$xg)(c,g(e)))||a.push(C[l])}return a}t.$Mg=p;var U;(function(C){C.META_DATA_LABEL="label",C.META_DATA_DESCRIPTION="description",C.META_DATA_SIZE="size",C.META_DATA_MIME="mime";function g(a){const l=new Map;a.path.substring(a.path.indexOf(";")+1,a.path.lastIndexOf(";")).split(";").forEach(s=>{const[n,r]=s.split(":");n&&r&&l.set(n,r)});const e=a.path.substring(0,a.path.indexOf(";"));return e&&l.set(C.META_DATA_MIME,e),l}C.parseMetaData=g})(U||(t.DataUri=U={}));function f(C,g,a){if(g){let l=C.path;return l&&l[0]!==T.$gc.sep&&(l=T.$gc.sep+l),C.with({scheme:a,authority:g,path:l})}return C.with({scheme:a})}t.$Ng=f}),define(ht[22],at([0,1,39,4,23,7,21,2,15,14]),function(ct,t,G,D,T,O,F,Q,B,$){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.$sh=t.$rh=t.$qh=t.$ph=t.$oh=t.$nh=t.Promises=t.$mh=t.$lh=t.$kh=t.$jh=t.$ih=t.$hh=t.$gh=t.$fh=t.$eh=t.$dh=t.$ch=t.$bh=t.$ah=t.$_g=t.$$g=t.$0g=t.$9g=t.$8g=t.$7g=t.$6g=t.$5g=t.$4g=t.$3g=t.$2g=t.$1g=t.$Zg=t.$Yg=t.$Xg=t.$Wg=t.$Vg=t.$Ug=t.$Tg=t.$Sg=t.$Rg=t.$Qg=t.$Pg=t.$Og=void 0;function p(L){return!!L&&typeof L.then=="function"}t.$Og=p;function U(L){const d=new G.$3d,y=L(d.token),R=new Promise((X,x)=>{const ut=d.token.onCancellationRequested(()=>{ut.dispose(),d.dispose(),x(new D.$5)});Promise.resolve(y).then(ot=>{ut.dispose(),d.dispose(),X(ot)},ot=>{ut.dispose(),d.dispose(),x(ot)})});return new class{cancel(){d.cancel()}then(X,x){return R.then(X,x)}catch(X){return this.then(void 0,X)}finally(X){return R.finally(X)}}}t.$Pg=U;function f(L,d,y){return new Promise((R,X)=>{const x=d.onCancellationRequested(()=>{x.dispose(),R(y)});L.then(R,X).finally(()=>x.dispose())})}t.$Qg=f;function C(L,d){return new Promise((y,R)=>{const X=d.onCancellationRequested(()=>{X.dispose(),R(new D.$5)});L.then(y,R).finally(()=>X.dispose())})}t.$Rg=C;async function g(L){let d=-1;const y=L.map((R,X)=>R.then(x=>(d=X,x)));try{return await Promise.race(y)}finally{L.forEach((R,X)=>{X!==d&&R.cancel()})}}t.$Sg=g;function a(L,d,y){let R;const X=setTimeout(()=>{R?.(void 0),y?.()},d);return Promise.race([L.finally(()=>clearTimeout(X)),new Promise(x=>R=x)])}t.$Tg=a;function l(L){return new Promise((d,y)=>{const R=L();p(R)?R.then(d,y):d(R)})}t.$Ug=l;class c{constructor(){this.f=!1,this.a=null,this.b=null,this.d=null}queue(d){if(this.f)return Promise.reject(new Error("Throttler is disposed"));if(this.a){if(this.d=d,!this.b){const y=()=>{if(this.b=null,this.f)return;const R=this.queue(this.d);return this.d=null,R};this.b=new Promise(R=>{this.a.then(y,y).then(R)})}return new Promise((y,R)=>{this.b.then(y,R)})}return this.a=d(),new Promise((y,R)=>{this.a.then(X=>{this.a=null,y(X)},X=>{this.a=null,R(X)})})}dispose(){this.f=!0}}t.$Vg=c;class e{constructor(){this.a=Promise.resolve(null)}queue(d){return this.a=this.a.then(()=>d(),()=>d())}}t.$Wg=e;class s{constructor(){this.a=new Map}queue(d,y){const X=(this.a.get(d)??Promise.resolve()).catch(()=>{}).then(y).finally(()=>{this.a.get(d)===X&&this.a.delete(d)});return this.a.set(d,X),X}}t.$Xg=s;const n=(L,d)=>{let y=!0;const R=setTimeout(()=>{y=!1,d()},L);return{isTriggered:()=>y,dispose:()=>{clearTimeout(R),y=!1}}},r=L=>{let d=!0;return queueMicrotask(()=>{d&&(d=!1,L())}),{isTriggered:()=>d,dispose:()=>{d=!1}}};class u{constructor(d){this.defaultDelay=d,this.a=null,this.b=null,this.d=null,this.f=null,this.g=null}trigger(d,y=this.defaultDelay){this.g=d,this.h(),this.b||(this.b=new Promise((X,x)=>{this.d=X,this.f=x}).then(()=>{if(this.b=null,this.d=null,this.g){const X=this.g;return this.g=null,X()}}));const R=()=>{this.a=null,this.d?.(null)};return this.a=y===B.$Pd?r(R):n(y,R),this.b}isTriggered(){return!!this.a?.isTriggered()}cancel(){this.h(),this.b&&(this.f?.(new D.$5),this.b=null)}h(){this.a?.dispose(),this.a=null}dispose(){this.cancel()}}t.$Yg=u;class m{constructor(d){this.a=new u(d),this.b=new c}trigger(d,y){return this.a.trigger(()=>this.b.queue(d),y)}isTriggered(){return this.a.isTriggered()}cancel(){this.a.cancel()}dispose(){this.a.dispose(),this.b.dispose()}}t.$Zg=m;class v{constructor(){this.a=!1,this.b=new Promise((d,y)=>{this.d=d})}isOpen(){return this.a}open(){this.a=!0,this.d(!0)}wait(){return this.b}}t.$1g=v;class E extends v{constructor(d){super(),this.f=setTimeout(()=>this.open(),d)}open(){clearTimeout(this.f),super.open()}}t.$2g=E;function P(L,d){return d?new Promise((y,R)=>{const X=setTimeout(()=>{x.dispose(),y()},L),x=d.onCancellationRequested(()=>{clearTimeout(X),x.dispose(),R(new D.$5)})}):U(y=>P(L,y))}t.$3g=P;function o(L,d=0,y){const R=setTimeout(()=>{L(),y&&X.dispose()},d),X=(0,O.$Qc)(()=>{clearTimeout(R),y?.deleteAndLeak(X)});return y?.add(X),X}t.$4g=o;function I(L){const d=[];let y=0;const R=L.length;function X(){return y<R?L[y++]():null}function x(ut){ut!=null&&d.push(ut);const ot=X();return ot?ot.then(x):Promise.resolve(d)}return Promise.resolve(null).then(x)}t.$5g=I;function j(L,d=R=>!!R,y=null){let R=0;const X=L.length,x=()=>{if(R>=X)return Promise.resolve(y);const ut=L[R++];return Promise.resolve(ut()).then(ft=>d(ft)?Promise.resolve(ft):x())};return x()}t.$6g=j;function W(L,d=R=>!!R,y=null){if(L.length===0)return Promise.resolve(y);let R=L.length;const X=()=>{R=-1;for(const x of L)x.cancel?.()};return new Promise((x,ut)=>{for(const ot of L)ot.then(ft=>{--R>=0&&d(ft)?(X(),x(ft)):R===0&&x(y)}).catch(ft=>{--R>=0&&(X(),ut(ft))})})}t.$7g=W;class k{constructor(d){this.a=0,this.d=d,this.f=[],this.b=0,this.g=new T.$Sd}get onDrained(){return this.g.event}get size(){return this.a}queue(d){return this.a++,new Promise((y,R)=>{this.f.push({factory:d,c:y,e:R}),this.h()})}h(){for(;this.f.length&&this.b<this.d;){const d=this.f.shift();this.b++;const y=d.factory();y.then(d.c,d.e),y.then(()=>this.j(),()=>this.j())}}j(){this.a--,this.b--,this.f.length>0?this.h():this.g.fire()}dispose(){this.g.dispose()}}t.$8g=k;class b extends k{constructor(){super(1)}}t.$9g=b;class V{constructor(){this.a=new M,this.b=0}queue(d){return this.a.isRunning()?this.a.queue(()=>this.a.run(this.b++,d())):this.a.run(this.b++,d())}}t.$0g=V;class _{constructor(){this.a=new Map,this.b=new Set,this.d=void 0,this.f=0}async whenDrained(){if(this.g())return;const d=new K;return this.b.add(d),d.p}g(){for(const[,d]of this.a)if(d.size>0)return!1;return!0}queueFor(d,y=F.$tg){const R=y.getComparisonKey(d);let X=this.a.get(R);if(!X){X=new b;const x=this.f++,ut=T.Event.once(X.onDrained)(()=>{X?.dispose(),this.a.delete(R),this.h(),this.d?.deleteAndDispose(x),this.d?.size===0&&(this.d.dispose(),this.d=void 0)});this.d||(this.d=new O.$2c),this.d.set(x,ut),this.a.set(R,X)}return X}h(){this.g()&&this.j()}j(){for(const d of this.b)d.complete();this.b.clear()}dispose(){for(const[,d]of this.a)d.dispose();this.a.clear(),this.j(),this.d?.dispose()}}t.$$g=_;class tt{constructor(d,y){this.a=-1,typeof d=="function"&&typeof y=="number"&&this.setIfNotSet(d,y)}dispose(){this.cancel()}cancel(){this.a!==-1&&(clearTimeout(this.a),this.a=-1)}cancelAndSet(d,y){this.cancel(),this.a=setTimeout(()=>{this.a=-1,d()},y)}setIfNotSet(d,y){this.a===-1&&(this.a=setTimeout(()=>{this.a=-1,d()},y))}}t.$_g=tt;class st{constructor(){this.d=void 0}cancel(){this.d?.dispose(),this.d=void 0}cancelAndSet(d,y,R=globalThis){this.cancel();const X=R.setInterval(()=>{d()},y);this.d=(0,O.$Qc)(()=>{R.clearInterval(X),this.d=void 0})}dispose(){this.cancel()}}t.$ah=st;class et{constructor(d,y){this.b=-1,this.a=d,this.d=y,this.f=this.g.bind(this)}dispose(){this.cancel(),this.a=null}cancel(){this.isScheduled()&&(clearTimeout(this.b),this.b=-1)}schedule(d=this.d){this.cancel(),this.b=setTimeout(this.f,d)}get delay(){return this.d}set delay(d){this.d=d}isScheduled(){return this.b!==-1}flush(){this.isScheduled()&&(this.cancel(),this.h())}g(){this.b=-1,this.a&&this.h()}h(){this.a?.()}}t.$bh=et;class nt{constructor(d,y){y%1e3!==0&&console.warn(`ProcessTimeRunOnceScheduler resolution is 1s, ${y}ms is not a multiple of 1000ms.`),this.a=d,this.b=y,this.d=0,this.f=-1,this.g=this.h.bind(this)}dispose(){this.cancel(),this.a=null}cancel(){this.isScheduled()&&(clearInterval(this.f),this.f=-1)}schedule(d=this.b){d%1e3!==0&&console.warn(`ProcessTimeRunOnceScheduler resolution is 1s, ${d}ms is not a multiple of 1000ms.`),this.cancel(),this.d=Math.ceil(d/1e3),this.f=setInterval(this.g,1e3)}isScheduled(){return this.f!==-1}h(){this.d--,!(this.d>0)&&(clearInterval(this.f),this.f=-1,this.a?.())}}t.$ch=nt;class w extends et{constructor(d,y){super(d,y),this.j=[]}work(d){this.j.push(d),this.isScheduled()||this.schedule()}h(){const d=this.j;this.j=[],this.a?.(d)}dispose(){this.j=[],super.dispose()}}t.$dh=w;class J extends O.$Sc{constructor(d,y){super(),this.g=d,this.h=y,this.a=[],this.b=this.B(new O.$Tc),this.f=!1}get pending(){return this.a.length}work(d){if(this.f)return!1;if(typeof this.g.maxBufferedWork=="number"){if(this.b.value){if(this.pending+d.length>this.g.maxBufferedWork)return!1}else if(this.pending+d.length-this.g.maxWorkChunkSize>this.g.maxBufferedWork)return!1}for(const y of d)this.a.push(y);return this.b.value||this.j(),!0}j(){this.h(this.a.splice(0,this.g.maxWorkChunkSize)),this.a.length>0&&(this.b.value=new et(()=>{this.b.clear(),this.j()},this.g.throttleDelay),this.b.value.schedule())}dispose(){super.dispose(),this.f=!0}}t.$eh=J,function(){typeof globalThis.requestIdleCallback!="function"||typeof globalThis.cancelIdleCallback!="function"?t.$gh=(L,d)=>{(0,Q.$B)(()=>{if(y)return;const R=Date.now()+15;d(Object.freeze({didTimeout:!0,timeRemaining(){return Math.max(0,R-Date.now())}}))});let y=!1;return{dispose(){y||(y=!0)}}}:t.$gh=(L,d,y)=>{const R=L.requestIdleCallback(d,typeof y=="number"?{timeout:y}:void 0);let X=!1;return{dispose(){X||(X=!0,L.cancelIdleCallback(R))}}},t.$fh=L=>(0,t.$gh)(globalThis,L)}();class lt{constructor(d,y){this.g=!1,this.d=()=>{try{this.j=y()}catch(R){this.l=R}finally{this.g=!0}},this.f=(0,t.$gh)(d,()=>this.d())}dispose(){this.f.dispose()}get value(){if(this.g||(this.f.dispose(),this.d()),this.l)throw this.l;return this.j}get isInitialized(){return this.g}}t.$hh=lt;class q extends lt{constructor(d){super(globalThis,d)}}t.$ih=q;async function z(L,d,y){let R;for(let X=0;X<y;X++)try{return await L()}catch(x){R=x,await P(d)}throw R}t.$jh=z;class M{isRunning(d){return typeof d=="number"?this.a?.taskId===d:!!this.a}get running(){return this.a?.promise}cancelRunning(){this.a?.cancel()}run(d,y,R){return this.a={taskId:d,cancel:()=>R?.(),promise:y},y.then(()=>this.d(d),()=>this.d(d)),y}d(d){this.a&&d===this.a.taskId&&(this.a=void 0,this.f())}f(){if(this.b){const d=this.b;this.b=void 0,d.run().then(d.promiseResolve,d.promiseReject)}}queue(d){if(this.b)this.b.run=d;else{let y,R;const X=new Promise((x,ut)=>{y=x,R=ut});this.b={run:d,promise:X,promiseResolve:y,promiseReject:R}}return this.b.promise}hasQueued(){return!!this.b}async join(){return this.b?.promise??this.a?.promise}}t.$kh=M;class Y{constructor(d,y=()=>Date.now()){this.d=d,this.f=y,this.a=0,this.b=0}increment(){const d=this.f();return d-this.a>this.d&&(this.a=d,this.b=0),this.b++,this.b}}t.$lh=Y;var Z;(function(L){L[L.Resolved=0]="Resolved",L[L.Rejected=1]="Rejected"})(Z||(Z={}));class K{get isRejected(){return this.d?.outcome===1}get isResolved(){return this.d?.outcome===0}get isSettled(){return!!this.d}get value(){return this.d?.outcome===0?this.d?.value:void 0}constructor(){this.p=new Promise((d,y)=>{this.a=d,this.b=y})}complete(d){return new Promise(y=>{this.a(d),this.d={outcome:0,value:d},y()})}error(d){return new Promise(y=>{this.b(d),this.d={outcome:1,value:d},y()})}cancel(){return this.error(new D.$5)}}t.$mh=K;var rt;(function(L){async function d(R){let X;const x=await Promise.all(R.map(ut=>ut.then(ot=>ot,ot=>{X||(X=ot)})));if(typeof X<"u")throw X;return x}L.settled=d;function y(R){return new Promise(async(X,x)=>{try{await R(X,x)}catch(ut){x(ut)}})}L.withAsyncBody=y})(rt||(t.Promises=rt={}));class H{get value(){return this.a}get error(){return this.b}get isResolved(){return this.d}constructor(d){this.a=void 0,this.b=void 0,this.d=!1,this.promise=d.then(y=>(this.a=y,this.d=!0,y),y=>{throw this.b=y,this.d=!0,y})}requireValue(){if(!this.d)throw new D.$cb("Promise is not resolved yet");if(this.b)throw this.b;return this.a}}t.$nh=H;class S{constructor(d){this.b=d,this.a=new $.$V(()=>new H(this.b()))}requireValue(){return this.a.value.requireValue()}getPromise(){return this.a.value.promise}}t.$oh=S;var i;(function(L){L[L.Initial=0]="Initial",L[L.DoneOK=1]="DoneOK",L[L.DoneError=2]="DoneError"})(i||(i={}));class h{static fromArray(d){return new h(y=>{y.emitMany(d)})}static fromPromise(d){return new h(async y=>{y.emitMany(await d)})}static fromPromises(d){return new h(async y=>{await Promise.all(d.map(async R=>y.emitOne(await R)))})}static merge(d){return new h(async y=>{await Promise.all(d.map(async R=>{for await(const X of R)y.emitOne(X)}))})}static{this.EMPTY=h.fromArray([])}constructor(d){this.a=0,this.b=[],this.d=null,this.f=new T.$Sd,queueMicrotask(async()=>{const y={emitOne:R=>this.g(R),emitMany:R=>this.h(R),reject:R=>this.k(R)};try{await Promise.resolve(d(y)),this.j()}catch(R){this.k(R)}finally{y.emitOne=void 0,y.emitMany=void 0,y.reject=void 0}})}[Symbol.asyncIterator](){let d=0;return{next:async()=>{do{if(this.a===2)throw this.d;if(d<this.b.length)return{done:!1,value:this.b[d++]};if(this.a===1)return{done:!0,value:void 0};await T.Event.toPromise(this.f.event)}while(!0)}}}static map(d,y){return new h(async R=>{for await(const X of d)R.emitOne(y(X))})}map(d){return h.map(this,d)}static filter(d,y){return new h(async R=>{for await(const X of d)y(X)&&R.emitOne(X)})}filter(d){return h.filter(this,d)}static coalesce(d){return h.filter(d,y=>!!y)}coalesce(){return h.coalesce(this)}static async toPromise(d){const y=[];for await(const R of d)y.push(R);return y}toPromise(){return h.toPromise(this)}g(d){this.a===0&&(this.b.push(d),this.f.fire())}h(d){this.a===0&&(this.b=this.b.concat(d),this.f.fire())}j(){this.a===0&&(this.a=1,this.f.fire())}k(d){this.a===0&&(this.a=2,this.d=d,this.f.fire())}}t.$ph=h;class A extends h{constructor(d,y){super(y),this.l=d}cancel(){this.l.cancel()}}t.$qh=A;function N(L){const d=new G.$3d,y=L(d.token);return new A(d,async R=>{const X=d.token.onCancellationRequested(()=>{X.dispose(),d.dispose(),R.reject(new D.$5)});try{for await(const x of y){if(d.token.isCancellationRequested)return;R.emitOne(x)}X.dispose(),d.dispose()}catch(x){X.dispose(),d.dispose(),R.reject(x)}})}t.$rh=N;class it{constructor(){this.a=new K,this.b=new h(R=>{if(d){R.reject(d);return}return y&&R.emitMany(y),this.d=X=>R.reject(X),this.f=X=>R.emitOne(X),this.a.p});let d,y;this.f=R=>{y||(y=[]),y.push(R)},this.d=R=>{d||(d=R)}}get asyncIterable(){return this.b}resolve(){this.a.complete()}reject(d){this.d(d),this.a.complete()}emitOne(d){this.f(d)}}t.$sh=it}),define(ht[24],at([0,1,40,22,10,41,5,2,3]),function(ct,t,G,D,T,O,F,Q,B){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.$Mj=t.$Lj=t.$Kj=t.$Jj=t.$Ij=t.$Hj=t.$Gj=t.$Fj=t.$Ej=t.$Dj=void 0;function $(){return Object.create(null)}t.$Dj=$,t.$Ej="**",t.$Fj="/";const p="[/\\\\]",U="[^/\\\\]",f=/\//g;function C(q,z){switch(q){case 0:return"";case 1:return`${U}*?`;default:return`(?:${p}|${U}+${p}${z?`|${p}${U}+`:""})*?`}}function g(q,z){if(!q)return[];const M=[];let Y=!1,Z=!1,K="";for(const rt of q){switch(rt){case z:if(!Y&&!Z){M.push(K),K="";continue}break;case"{":Y=!0;break;case"}":Y=!1;break;case"[":Z=!0;break;case"]":Z=!1;break}K+=rt}return K&&M.push(K),M}t.$Gj=g;function a(q){if(!q)return"";let z="";const M=g(q,t.$Fj);if(M.every(Y=>Y===t.$Ej))z=".*";else{let Y=!1;M.forEach((Z,K)=>{if(Z===t.$Ej){if(Y)return;z+=C(2,K===M.length-1)}else{let rt=!1,H="",S=!1,i="";for(const h of Z){if(h!=="}"&&rt){H+=h;continue}if(S&&(h!=="]"||!i)){let A;h==="-"?A=h:(h==="^"||h==="!")&&!i?A="^":h===t.$Fj?A="":A=(0,B.$Ke)(h),i+=A;continue}switch(h){case"{":rt=!0;continue;case"[":S=!0;continue;case"}":{const N=`(?:${g(H,",").map(it=>a(it)).join("|")})`;z+=N,rt=!1,H="";break}case"]":{z+="["+i+"]",S=!1,i="";break}case"?":z+=U;continue;case"*":z+=C(1);continue;default:z+=(0,B.$Ke)(h)}}K<M.length-1&&(M[K+1]!==t.$Ej||K+2<M.length)&&(z+=p)}Y=Z===t.$Ej})}return z}const l=/^\*\*\/\*\.[\w\.-]+$/,c=/^\*\*\/([\w\.-]+)\/?$/,e=/^{\*\*\/\*?[\w\.-]+\/?(,\*\*\/\*?[\w\.-]+\/?)*}$/,s=/^{\*\*\/\*?[\w\.-]+(\/(\*\*)?)?(,\*\*\/\*?[\w\.-]+(\/(\*\*)?)?)*}$/,n=/^\*\*((\/[\w\.-]+)+)\/?$/,r=/^([\w\.-]+(\/[\w\.-]+)*)\/?$/,u=new O.$Dc(1e4),m=function(){return!1},v=function(){return null};function E(q,z){if(!q)return v;let M;typeof q!="string"?M=q.pattern:M=q,M=M.trim();const Y=`${M}_${!!z.trimForExclusions}`;let Z=u.get(Y);if(Z)return P(Z,q);let K;return l.test(M)?Z=I(M.substr(4),M):(K=c.exec(o(M,z)))?Z=j(K[1],M):(z.trimForExclusions?s:e).test(M)?Z=W(M,z):(K=n.exec(o(M,z)))?Z=k(K[1].substr(1),M,!0):(K=r.exec(o(M,z)))?Z=k(K[1],M,!1):Z=b(M),u.set(Y,Z),P(Z,q)}function P(q,z){if(typeof z=="string")return q;const M=function(Y,Z){return(0,T.$4f)(Y,z.base,!Q.$k)?q((0,B.$Pe)(Y.substr(z.base.length),F.sep),Z):null};return M.allBasenames=q.allBasenames,M.allPaths=q.allPaths,M.basenames=q.basenames,M.patterns=q.patterns,M}function o(q,z){return z.trimForExclusions&&q.endsWith("/**")?q.substr(0,q.length-2):q}function I(q,z){return function(M,Y){return typeof M=="string"&&M.endsWith(q)?z:null}}function j(q,z){const M=`/${q}`,Y=`\\${q}`,Z=function(rt,H){return typeof rt!="string"?null:H?H===q?z:null:rt===q||rt.endsWith(M)||rt.endsWith(Y)?z:null},K=[q];return Z.basenames=K,Z.patterns=[z],Z.allBasenames=K,Z}function W(q,z){const M=J(q.slice(1,-1).split(",").map(H=>E(H,z)).filter(H=>H!==v),q),Y=M.length;if(!Y)return v;if(Y===1)return M[0];const Z=function(H,S){for(let i=0,h=M.length;i<h;i++)if(M[i](H,S))return q;return null},K=M.find(H=>!!H.allBasenames);K&&(Z.allBasenames=K.allBasenames);const rt=M.reduce((H,S)=>S.allPaths?H.concat(S.allPaths):H,[]);return rt.length&&(Z.allPaths=rt),Z}function k(q,z,M){const Y=F.sep===F.$gc.sep,Z=Y?q:q.replace(f,F.sep),K=F.sep+Z,rt=F.$gc.sep+q;let H;return M?H=function(S,i){return typeof S=="string"&&(S===Z||S.endsWith(K)||!Y&&(S===q||S.endsWith(rt)))?z:null}:H=function(S,i){return typeof S=="string"&&(S===Z||!Y&&S===q)?z:null},H.allPaths=[(M?"*/":"./")+q],H}function b(q){try{const z=new RegExp(`^${a(q)}$`);return function(M){return z.lastIndex=0,typeof M=="string"&&z.test(M)?q:null}}catch{return v}}function V(q,z,M){return!q||typeof z!="string"?!1:_(q)(z,void 0,M)}t.$Hj=V;function _(q,z={}){if(!q)return m;if(typeof q=="string"||tt(q)){const M=E(q,z);if(M===v)return m;const Y=function(Z,K){return!!M(Z,K)};return M.allBasenames&&(Y.allBasenames=M.allBasenames),M.allPaths&&(Y.allPaths=M.allPaths),Y}return nt(q,z)}t.$Ij=_;function tt(q){const z=q;return z?typeof z.base=="string"&&typeof z.pattern=="string":!1}t.$Jj=tt;function st(q){return q.allBasenames||[]}t.$Kj=st;function et(q){return q.allPaths||[]}t.$Lj=et;function nt(q,z){const M=J(Object.getOwnPropertyNames(q).map(H=>w(H,q[H],z)).filter(H=>H!==v)),Y=M.length;if(!Y)return v;if(!M.some(H=>!!H.requiresSiblings)){if(Y===1)return M[0];const H=function(h,A){let N;for(let it=0,L=M.length;it<L;it++){const d=M[it](h,A);if(typeof d=="string")return d;(0,D.$Og)(d)&&(N||(N=[]),N.push(d))}return N?(async()=>{for(const it of N){const L=await it;if(typeof L=="string")return L}return null})():null},S=M.find(h=>!!h.allBasenames);S&&(H.allBasenames=S.allBasenames);const i=M.reduce((h,A)=>A.allPaths?h.concat(A.allPaths):h,[]);return i.length&&(H.allPaths=i),H}const Z=function(H,S,i){let h,A;for(let N=0,it=M.length;N<it;N++){const L=M[N];L.requiresSiblings&&i&&(S||(S=(0,F.$nc)(H)),h||(h=S.substr(0,S.length-(0,F.$oc)(H).length)));const d=L(H,S,h,i);if(typeof d=="string")return d;(0,D.$Og)(d)&&(A||(A=[]),A.push(d))}return A?(async()=>{for(const N of A){const it=await N;if(typeof it=="string")return it}return null})():null},K=M.find(H=>!!H.allBasenames);K&&(Z.allBasenames=K.allBasenames);const rt=M.reduce((H,S)=>S.allPaths?H.concat(S.allPaths):H,[]);return rt.length&&(Z.allPaths=rt),Z}function w(q,z,M){if(z===!1)return v;const Y=E(q,M);if(Y===v)return v;if(typeof z=="boolean")return Y;if(z){const Z=z.when;if(typeof Z=="string"){const K=(rt,H,S,i)=>{if(!i||!Y(rt,H))return null;const h=Z.replace("$(basename)",()=>S),A=i(h);return(0,D.$Og)(A)?A.then(N=>N?q:null):A?q:null};return K.requiresSiblings=!0,K}}return Y}function J(q,z){const M=q.filter(H=>!!H.basenames);if(M.length<2)return q;const Y=M.reduce((H,S)=>{const i=S.basenames;return i?H.concat(i):H},[]);let Z;if(z){Z=[];for(let H=0,S=Y.length;H<S;H++)Z.push(z)}else Z=M.reduce((H,S)=>{const i=S.patterns;return i?H.concat(i):H},[]);const K=function(H,S){if(typeof H!="string")return null;if(!S){let h;for(h=H.length;h>0;h--){const A=H.charCodeAt(h-1);if(A===47||A===92)break}S=H.substr(h)}const i=Y.indexOf(S);return i!==-1?Z[i]:null};K.basenames=Y,K.patterns=Z,K.allBasenames=Y;const rt=q.filter(H=>!H.basenames);return rt.push(K),rt}function lt(q,z){return(0,G.$ub)(q,z,(M,Y)=>typeof M=="string"&&typeof Y=="string"?M===Y:typeof M!="string"&&typeof Y!="string"?M.base===Y.base&&M.pattern===Y.pattern:!1)}t.$Mj=lt}),define(ht[25],at([0,1,3,2,6]),function(ct,t,G,D,T){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.$1s=t.$Zs=t.$Ys=void 0;let O;function F(){return O||(O=new TextDecoder("UTF-16LE")),O}let Q;function B(){return Q||(Q=new TextDecoder("UTF-16BE")),Q}let $;function p(){return $||($=D.$D()?F():B()),$}t.$Ys=p;function U(g,a,l){const c=new Uint16Array(g.buffer,a,l);return l>0&&(c[0]===65279||c[0]===65534)?f(g,a,l):F().decode(c)}t.$Zs=U;function f(g,a,l){const c=[];let e=0;for(let s=0;s<l;s++){const n=T.$ie(g,a);a+=2,c[e++]=String.fromCharCode(n)}return c.join("")}class C{constructor(a){this.a=a|0,this.b=new Uint16Array(this.a),this.c=null,this.d=0}reset(){this.c=null,this.d=0}build(){return this.c!==null?(this.f(),this.c.join("")):this.e()}e(){if(this.d===0)return"";const a=new Uint16Array(this.b.buffer,0,this.d);return p().decode(a)}f(){const a=this.e();this.d=0,this.c===null?this.c=[a]:this.c[this.c.length]=a}appendCharCode(a){const l=this.a-this.d;l<=1&&(l===0||G.$_e(a))&&this.f(),this.b[this.d++]=a}appendASCIICharCode(a){this.d===this.a&&this.f(),this.b[this.d++]=a}appendString(a){const l=a.length;if(this.d+l>=this.a){this.f(),this.c[this.c.length]=a;return}for(let c=0;c<l;c++)this.b[this.d++]=a.charCodeAt(c)}}t.$1s=C}),define(ht[26],at([0,1,6,25]),function(ct,t,G,D){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.$3s=t.$2s=void 0;function T(B){return B.replace(/\n/g,"\\n").replace(/\r/g,"\\r")}class O{get oldLength(){return this.oldText.length}get oldEnd(){return this.oldPosition+this.oldText.length}get newLength(){return this.newText.length}get newEnd(){return this.newPosition+this.newText.length}constructor($,p,U,f){this.oldPosition=$,this.oldText=p,this.newPosition=U,this.newText=f}toString(){return this.oldText.length===0?`(insert@${this.oldPosition} "${T(this.newText)}")`:this.newText.length===0?`(delete@${this.oldPosition} "${T(this.oldText)}")`:`(replace@${this.oldPosition} "${T(this.oldText)}" with "${T(this.newText)}")`}static a($){return 4+2*$.length}static c($,p,U){const f=p.length;G.$le($,f,U),U+=4;for(let C=0;C<f;C++)G.$je($,p.charCodeAt(C),U),U+=2;return U}static d($,p){const U=G.$ke($,p);return p+=4,(0,D.$Zs)($,p,U)}writeSize(){return 4+4+O.a(this.oldText)+O.a(this.newText)}write($,p){return G.$le($,this.oldPosition,p),p+=4,G.$le($,this.newPosition,p),p+=4,p=O.c($,this.oldText,p),p=O.c($,this.newText,p),p}static read($,p,U){const f=G.$ke($,p);p+=4;const C=G.$ke($,p);p+=4;const g=O.d($,p);p+=O.a(g);const a=O.d($,p);return p+=O.a(a),U.push(new O(f,g,C,a)),p}}t.$2s=O;function F(B,$){return B===null||B.length===0?$:new Q(B,$).compress()}t.$3s=F;class Q{constructor($,p){this.a=$,this.c=p,this.d=[],this.e=0,this.f=this.a.length,this.g=0,this.h=this.c.length,this.j=0}compress(){let $=0,p=0,U=this.n($),f=this.l(p);for(;$<this.f||p<this.h;){if(U===null){this.k(f),f=this.l(++p);continue}if(f===null){this.m(U),U=this.n(++$);continue}if(f.oldEnd<=U.newPosition){this.k(f),f=this.l(++p);continue}if(U.newEnd<=f.oldPosition){this.m(U),U=this.n(++$);continue}if(f.oldPosition<U.newPosition){const[c,e]=Q.r(f,U.newPosition-f.oldPosition);this.k(c),f=e;continue}if(U.newPosition<f.oldPosition){const[c,e]=Q.q(U,f.oldPosition-U.newPosition);this.m(c),U=e;continue}let a,l;if(f.oldEnd===U.newEnd)a=U,l=f,U=this.n(++$),f=this.l(++p);else if(f.oldEnd<U.newEnd){const[c,e]=Q.q(U,f.oldLength);a=c,l=f,U=e,f=this.l(++p)}else{const[c,e]=Q.r(f,U.newLength);a=U,l=c,U=this.n(++$),f=e}this.d[this.e++]=new O(a.oldPosition,a.oldText,l.newPosition,l.newText),this.g+=a.newLength-a.oldLength,this.j+=l.newLength-l.oldLength}const C=Q.s(this.d);return Q.t(C)}k($){this.d[this.e++]=Q.o(this.g,$),this.j+=$.newLength-$.oldLength}l($){return $<this.h?this.c[$]:null}m($){this.d[this.e++]=Q.p(this.j,$),this.g+=$.newLength-$.oldLength}n($){return $<this.f?this.a[$]:null}static o($,p){return new O(p.oldPosition-$,p.oldText,p.newPosition,p.newText)}static p($,p){return new O(p.oldPosition,p.oldText,p.newPosition+$,p.newText)}static q($,p){const U=$.newText.substr(0,p),f=$.newText.substr(p);return[new O($.oldPosition,$.oldText,$.newPosition,U),new O($.oldEnd,"",$.newPosition+p,f)]}static r($,p){const U=$.oldText.substr(0,p),f=$.oldText.substr(p);return[new O($.oldPosition,U,$.newPosition,$.newText),new O($.oldPosition+p,f,$.newEnd,"")]}static s($){if($.length===0)return $;const p=[];let U=0,f=$[0];for(let C=1;C<$.length;C++){const g=$[C];f.oldEnd===g.oldPosition?f=new O(f.oldPosition,f.oldText+g.oldText,f.newPosition,f.newText+g.newText):(p[U++]=f,f=g)}return p[U++]=f,p}static t($){if($.length===0)return $;const p=[];let U=0;for(let f=0;f<$.length;f++){const C=$[f];C.oldText!==C.newText&&(p[U++]=C)}return p}}}),define(ht[27],at([0,1,23,3,9,18,8,16,26,7]),function(ct,t,G,D,T,O,F,Q,B,$){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.$VB=void 0;class p extends $.$Sc{constructor(f,C,g,a,l,c,e){super(),this.m=this.B(new G.$Sd),this.onDidChangeContent=this.m.event,this.f=C,this.j=!c,this.g=a,this.h=l,this.c=new F.$UB(f,g,e)}equals(f){return!(f instanceof p)||this.f!==f.f||this.getEOL()!==f.getEOL()?!1:this.c.equal(f.c)}mightContainRTL(){return this.g}mightContainUnusualLineTerminators(){return this.h}resetMightContainUnusualLineTerminators(){this.h=!1}mightContainNonBasicASCII(){return this.j}getBOM(){return this.f}getEOL(){return this.c.getEOL()}createSnapshot(f){return this.c.createSnapshot(f?this.f:"")}getOffsetAt(f,C){return this.c.getOffsetAt(f,C)}getPositionAt(f){return this.c.getPositionAt(f)}getRangeAt(f,C){const g=f+C,a=this.getPositionAt(f),l=this.getPositionAt(g);return new T.$Gs(a.lineNumber,a.column,l.lineNumber,l.column)}getValueInRange(f,C=0){if(f.isEmpty())return"";const g=this.n(C);return this.c.getValueInRange(f,g)}getValueLengthInRange(f,C=0){if(f.isEmpty())return 0;if(f.startLineNumber===f.endLineNumber)return f.endColumn-f.startColumn;const g=this.getOffsetAt(f.startLineNumber,f.startColumn),a=this.getOffsetAt(f.endLineNumber,f.endColumn);let l=0;const c=this.n(C),e=this.getEOL();if(c.length!==e.length){const s=c.length-e.length,n=f.endLineNumber-f.startLineNumber;l=s*n}return a-g+l}getCharacterCountInRange(f,C=0){if(this.j){let g=0;const a=f.startLineNumber,l=f.endLineNumber;for(let c=a;c<=l;c++){const e=this.getLineContent(c),s=c===a?f.startColumn-1:0,n=c===l?f.endColumn-1:e.length;for(let r=s;r<n;r++)D.$_e(e.charCodeAt(r))?(g=g+1,r=r+1):g=g+1}return g+=this.n(C).length*(l-a),g}return this.getValueLengthInRange(f,C)}getLength(){return this.c.getLength()}getLineCount(){return this.c.getLineCount()}getLinesContent(){return this.c.getLinesContent()}getLineContent(f){return this.c.getLineContent(f)}getLineCharCode(f,C){return this.c.getLineCharCode(f,C)}getCharCode(f){return this.c.getCharCode(f)}getLineLength(f){return this.c.getLineLength(f)}getLineMinColumn(f){return 1}getLineMaxColumn(f){return this.getLineLength(f)+1}getLineFirstNonWhitespaceColumn(f){const C=D.$We(this.getLineContent(f));return C===-1?0:C+1}getLineLastNonWhitespaceColumn(f){const C=D.$Ye(this.getLineContent(f));return C===-1?0:C+2}n(f){switch(f){case 1:return`
`;case 2:return`\r
`;case 0:return this.getEOL();default:throw new Error("Unknown EOL preference")}}setEOL(f){this.c.setEOL(f)}applyEdits(f,C,g){let a=this.g,l=this.h,c=this.j,e=!0,s=[];for(let P=0;P<f.length;P++){const o=f[P];e&&o._isTracked&&(e=!1);const I=o.range;if(o.text){let V=!0;c||(V=!D.$kf(o.text),c=V),!a&&V&&(a=D.$jf(o.text)),!l&&V&&(l=D.$mf(o.text))}let j="",W=0,k=0,b=0;if(o.text){let V;[W,k,b,V]=(0,Q.$gt)(o.text);const _=this.getEOL();V===0||V===(_===`\r
`?2:1)?j=o.text:j=o.text.replace(/\r\n|\r|\n/g,_)}s[P]={sortIndex:P,identifier:o.identifier||null,range:I,rangeOffset:this.getOffsetAt(I.startLineNumber,I.startColumn),rangeLength:this.getValueLengthInRange(I),text:j,eolCount:W,firstLineLength:k,lastLineLength:b,forceMoveMarkers:!!o.forceMoveMarkers,isAutoWhitespaceEdit:o.isAutoWhitespaceEdit||!1}}s.sort(p.u);let n=!1;for(let P=0,o=s.length-1;P<o;P++){const I=s[P].range.getEndPosition(),j=s[P+1].range.getStartPosition();if(j.isBeforeOrEqual(I)){if(j.isBefore(I))throw new Error("Overlapping ranges are not allowed!");n=!0}}e&&(s=this.s(s));const r=g||C?p._getInverseEditRanges(s):[],u=[];if(C)for(let P=0;P<s.length;P++){const o=s[P],I=r[P];if(o.isAutoWhitespaceEdit&&o.range.isEmpty())for(let j=I.startLineNumber;j<=I.endLineNumber;j++){let W="";j===I.startLineNumber&&(W=this.getLineContent(o.range.startLineNumber),D.$We(W)!==-1)||u.push({lineNumber:j,oldContent:W})}}let m=null;if(g){let P=0;m=[];for(let o=0;o<s.length;o++){const I=s[o],j=r[o],W=this.getValueInRange(I.range),k=I.rangeOffset+P;P+=I.text.length-W.length,m[o]={sortIndex:I.sortIndex,identifier:I.identifier,range:j,text:W,textChange:new B.$2s(I.rangeOffset,W,k,I.text)}}n||m.sort((o,I)=>o.sortIndex-I.sortIndex)}this.g=a,this.h=l,this.j=c;const v=this.t(s);let E=null;if(C&&u.length>0){u.sort((P,o)=>o.lineNumber-P.lineNumber),E=[];for(let P=0,o=u.length;P<o;P++){const I=u[P].lineNumber;if(P>0&&u[P-1].lineNumber===I)continue;const j=u[P].oldContent,W=this.getLineContent(I);W.length===0||W===j||D.$We(W)!==-1||E.push(I)}}return this.m.fire(),new O.$3u(m,v,E)}s(f){return f.length<1e3?f:[this._toSingleEditOperation(f)]}_toSingleEditOperation(f){let C=!1;const g=f[0].range,a=f[f.length-1].range,l=new T.$Gs(g.startLineNumber,g.startColumn,a.endLineNumber,a.endColumn);let c=g.startLineNumber,e=g.startColumn;const s=[];for(let v=0,E=f.length;v<E;v++){const P=f[v],o=P.range;C=C||P.forceMoveMarkers,s.push(this.getValueInRange(new T.$Gs(c,e,o.startLineNumber,o.startColumn))),P.text.length>0&&s.push(P.text),c=o.endLineNumber,e=o.endColumn}const n=s.join(""),[r,u,m]=(0,Q.$gt)(n);return{sortIndex:0,identifier:f[0].identifier,range:l,rangeOffset:this.getOffsetAt(l.startLineNumber,l.startColumn),rangeLength:this.getValueLengthInRange(l,0),text:n,eolCount:r,firstLineLength:u,lastLineLength:m,forceMoveMarkers:C,isAutoWhitespaceEdit:!1}}t(f){f.sort(p.w);const C=[];for(let g=0;g<f.length;g++){const a=f[g],l=a.range.startLineNumber,c=a.range.startColumn,e=a.range.endLineNumber,s=a.range.endColumn;if(l===e&&c===s&&a.text.length===0)continue;a.text?(this.c.delete(a.rangeOffset,a.rangeLength),this.c.insert(a.rangeOffset,a.text,!0)):this.c.delete(a.rangeOffset,a.rangeLength);const n=new T.$Gs(l,c,e,s);C.push({range:n,rangeLength:a.rangeLength,text:a.text,rangeOffset:a.rangeOffset,forceMoveMarkers:a.forceMoveMarkers})}return C}findMatchesLineByLine(f,C,g,a){return this.c.findMatchesLineByLine(f,C,g,a)}getPieceTree(){return this.c}static _getInverseEditRange(f,C){const g=f.startLineNumber,a=f.startColumn,[l,c,e]=(0,Q.$gt)(C);let s;if(C.length>0){const n=l+1;n===1?s=new T.$Gs(g,a,g,a+c):s=new T.$Gs(g,a,g+n-1,e+1)}else s=new T.$Gs(g,a,g,a);return s}static _getInverseEditRanges(f){const C=[];let g=0,a=0,l=null;for(let c=0,e=f.length;c<e;c++){const s=f[c];let n,r;l?l.range.endLineNumber===s.range.startLineNumber?(n=g,r=a+(s.range.startColumn-l.range.endColumn)):(n=g+(s.range.startLineNumber-l.range.endLineNumber),r=s.range.startColumn):(n=s.range.startLineNumber,r=s.range.startColumn);let u;if(s.text.length>0){const m=s.eolCount+1;m===1?u=new T.$Gs(n,r,n,r+s.firstLineLength):u=new T.$Gs(n,r,n+m-1,s.lastLineLength+1)}else u=new T.$Gs(n,r,n,r);g=u.endLineNumber,a=u.endColumn,C.push(u),l=s}return C}static u(f,C){const g=T.$Gs.compareRangesUsingEnds(f.range,C.range);return g===0?f.sortIndex-C.sortIndex:g}static w(f,C){const g=T.$Gs.compareRangesUsingEnds(f.range,C.range);return g===0?C.sortIndex-f.sortIndex:-g}}t.$VB=p}),define(ht[28],at([0,1,3,8,27]),function(ct,t,G,D,T){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.$WB=void 0;class O{constructor(B,$,p,U,f,C,g,a,l){this.a=B,this.b=$,this.c=p,this.d=U,this.e=f,this.f=C,this.g=g,this.h=a,this.j=l}k(B){const $=this.c+this.d+this.e,p=this.c+this.e;return $===0?B===1?`
`:`\r
`:p>$/2?`\r
`:`
`}create(B){const $=this.k(B),p=this.a;if(this.j&&($===`\r
`&&(this.c>0||this.d>0)||$===`
`&&(this.c>0||this.e>0)))for(let f=0,C=p.length;f<C;f++){const g=p[f].buffer.replace(/\r\n|\r|\n/g,$),a=(0,D.$QB)(g);p[f]=new D.$TB(g,a)}const U=new T.$VB(p,this.b,$,this.f,this.g,this.h,this.j);return{textBuffer:U,disposable:U}}getFirstLineText(B){return this.a[0].buffer.substr(0,B).split(/\r\n|\r|\n/)[0]}}class F{constructor(){this.a=[],this.b="",this.c=!1,this.d=0,this.e=[],this.f=0,this.g=0,this.h=0,this.j=!1,this.k=!1,this.l=!0}acceptChunk(B){if(B.length===0)return;this.a.length===0&&G.$sf(B)&&(this.b=G.$rf,B=B.substr(1));const $=B.charCodeAt(B.length-1);$===13||$>=55296&&$<=56319?(this.m(B.substr(0,B.length-1),!1),this.c=!0,this.d=$):(this.m(B,!1),this.c=!1,this.d=$)}m(B,$){!$&&B.length===0||(this.c?this.n(String.fromCharCode(this.d)+B):this.n(B))}n(B){const $=(0,D.$RB)(this.e,B);this.a.push(new D.$TB(B,$.lineStarts)),this.f+=$.cr,this.g+=$.lf,this.h+=$.crlf,$.isBasicASCII||(this.l=!1,this.j||(this.j=G.$jf(B)),this.k||(this.k=G.$mf(B)))}finish(B=!0){return this.o(),new O(this.a,this.b,this.f,this.g,this.h,this.j,this.k,this.l,B)}o(){if(this.a.length===0&&this.m("",!0),this.c){this.c=!1;const B=this.a[this.a.length-1];B.buffer+=String.fromCharCode(this.d);const $=(0,D.$QB)(B.buffer);B.lineStarts=$,this.d===13&&this.f++}}}t.$WB=F}),define(ht[29],at([30,31]),function(ct,t){return ct.create("vs/platform/contextkey/common/contextkey",t)}),define(ht[32],at([30,31]),function(ct,t){return ct.create("vs/platform/contextkey/common/scanner",t)}),define(ht[33],at([0,1,4,32]),function(ct,t,G,D){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.$Wi=t.TokenType=void 0;var T;(function($){$[$.LParen=0]="LParen",$[$.RParen=1]="RParen",$[$.Neg=2]="Neg",$[$.Eq=3]="Eq",$[$.NotEq=4]="NotEq",$[$.Lt=5]="Lt",$[$.LtEq=6]="LtEq",$[$.Gt=7]="Gt",$[$.GtEq=8]="GtEq",$[$.RegexOp=9]="RegexOp",$[$.RegexStr=10]="RegexStr",$[$.True=11]="True",$[$.False=12]="False",$[$.In=13]="In",$[$.Not=14]="Not",$[$.And=15]="And",$[$.Or=16]="Or",$[$.Str=17]="Str",$[$.QuotedStr=18]="QuotedStr",$[$.Error=19]="Error",$[$.EOF=20]="EOF"})(T||(t.TokenType=T={}));function O(...$){switch($.length){case 1:return(0,D.localize)(0,null,$[0]);case 2:return(0,D.localize)(1,null,$[0],$[1]);case 3:return(0,D.localize)(2,null,$[0],$[1],$[2]);default:return}}const F=(0,D.localize)(3,null),Q=(0,D.localize)(4,null);class B{constructor(){this.c="",this.d=0,this.e=0,this.f=[],this.g=[],this.m=/[a-zA-Z0-9_<>\-\./\\:\*\?\+\[\]\^,#@;"%\$\p{L}-]+/uy}static getLexeme(p){switch(p.type){case 0:return"(";case 1:return")";case 2:return"!";case 3:return p.isTripleEq?"===":"==";case 4:return p.isTripleEq?"!==":"!=";case 5:return"<";case 6:return"<=";case 7:return">=";case 8:return">=";case 9:return"=~";case 10:return p.lexeme;case 11:return"true";case 12:return"false";case 13:return"in";case 14:return"not";case 15:return"&&";case 16:return"||";case 17:return p.lexeme;case 18:return p.lexeme;case 19:return p.lexeme;case 20:return"EOF";default:throw(0,G.$8)(`unhandled token type: ${JSON.stringify(p)}; have you forgotten to add a case?`)}}static{this.a=new Set(["i","g","s","m","y","u"].map(p=>p.charCodeAt(0)))}static{this.b=new Map([["not",14],["in",13],["false",12],["true",11]])}get errors(){return this.g}reset(p){return this.c=p,this.d=0,this.e=0,this.f=[],this.g=[],this}scan(){for(;!this.r();)switch(this.d=this.e,this.i()){case 40:this.k(0);break;case 41:this.k(1);break;case 33:if(this.h(61)){const U=this.h(61);this.f.push({type:4,offset:this.d,isTripleEq:U})}else this.k(2);break;case 39:this.o();break;case 47:this.q();break;case 61:if(this.h(61)){const U=this.h(61);this.f.push({type:3,offset:this.d,isTripleEq:U})}else this.h(126)?this.k(9):this.l(O("==","=~"));break;case 60:this.k(this.h(61)?6:5);break;case 62:this.k(this.h(61)?8:7);break;case 38:this.h(38)?this.k(15):this.l(O("&&"));break;case 124:this.h(124)?this.k(16):this.l(O("||"));break;case 32:case 13:case 9:case 10:case 160:break;default:this.n()}return this.d=this.e,this.k(20),Array.from(this.f)}h(p){return this.r()||this.c.charCodeAt(this.e)!==p?!1:(this.e++,!0)}i(){return this.c.charCodeAt(this.e++)}j(){return this.r()?0:this.c.charCodeAt(this.e)}k(p){this.f.push({type:p,offset:this.d})}l(p){const U=this.d,f=this.c.substring(this.d,this.e),C={type:19,offset:this.d,lexeme:f};this.g.push({offset:U,lexeme:f,additionalInfo:p}),this.f.push(C)}n(){this.m.lastIndex=this.d;const p=this.m.exec(this.c);if(p){this.e=this.d+p[0].length;const U=this.c.substring(this.d,this.e),f=B.b.get(U);f?this.k(f):this.f.push({type:17,lexeme:U,offset:this.d})}}o(){for(;this.j()!==39&&!this.r();)this.i();if(this.r()){this.l(F);return}this.i(),this.f.push({type:18,lexeme:this.c.substring(this.d+1,this.e-1),offset:this.d+1})}q(){let p=this.e,U=!1,f=!1;for(;;){if(p>=this.c.length){this.e=p,this.l(Q);return}const g=this.c.charCodeAt(p);if(U)U=!1;else if(g===47&&!f){p++;break}else g===91?f=!0:g===92?U=!0:g===93&&(f=!1);p++}for(;p<this.c.length&&B.a.has(this.c.charCodeAt(p));)p++;this.e=p;const C=this.c.substring(this.d,this.e);this.f.push({type:10,lexeme:C,offset:this.d})}r(){return this.e>=this.c.length}}t.$Wi=B}),define(ht[34],at([0,1]),function(ct,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.$3h=t.$2h=t.$1h=t._util=void 0;var G;(function(F){F.serviceIds=new Map,F.DI_TARGET="$di$target",F.DI_DEPENDENCIES="$di$dependencies";function Q(B){return B[F.DI_DEPENDENCIES]||[]}F.getServiceDependencies=Q})(G||(t._util=G={})),t.$1h=T("instantiationService");function D(F,Q,B){Q[G.DI_TARGET]===Q?Q[G.DI_DEPENDENCIES].push({id:F,index:B}):(Q[G.DI_DEPENDENCIES]=[{id:F,index:B}],Q[G.DI_TARGET]=Q)}function T(F){if(G.serviceIds.has(F))return G.serviceIds.get(F);const Q=function(B,$,p){if(arguments.length!==3)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");D(Q,B,p)};return Q.toString=()=>F,G.serviceIds.set(F,Q),Q}t.$2h=T;function O(F){return F}t.$3h=O}),define(ht[35],at([0,1,2,3,33,34,29,4]),function(ct,t,G,D,T,O,F,Q){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.$ij=t.$hj=t.$gj=t.$fj=t.$ej=t.$dj=t.$cj=t.$bj=t.$aj=t.$_i=t.$$i=t.$0i=t.$9i=t.$8i=t.$7i=t.$6i=t.$5i=t.$4i=t.$3i=t.$2i=t.$1i=t.$Zi=t.$Yi=t.ContextKeyExprType=t.$Xi=void 0;const B=new Map;B.set("false",!1),B.set("true",!0),B.set("isMac",G.$j),B.set("isLinux",G.$k),B.set("isWindows",G.$i),B.set("isWeb",G.$o),B.set("isMacNative",G.$j&&!G.$o),B.set("isEdge",G.$H),B.set("isFirefox",G.$F),B.set("isChrome",G.$E),B.set("isSafari",G.$G);function $(S,i){if(B.get(S)!==void 0)throw(0,Q.$7)("contextkey.setConstant(k, v) invoked with already set constant `k`");B.set(S,i)}t.$Xi=$;const p=Object.prototype.hasOwnProperty;var U;(function(S){S[S.False=0]="False",S[S.True=1]="True",S[S.Defined=2]="Defined",S[S.Not=3]="Not",S[S.Equals=4]="Equals",S[S.NotEquals=5]="NotEquals",S[S.And=6]="And",S[S.Regex=7]="Regex",S[S.NotRegex=8]="NotRegex",S[S.Or=9]="Or",S[S.In=10]="In",S[S.NotIn=11]="NotIn",S[S.Greater=12]="Greater",S[S.GreaterEquals=13]="GreaterEquals",S[S.Smaller=14]="Smaller",S[S.SmallerEquals=15]="SmallerEquals"})(U||(t.ContextKeyExprType=U={}));const f={regexParsingWithErrorRecovery:!0},C=(0,F.localize)(0,null),g=(0,F.localize)(1,null),a=(0,F.localize)(2,null),l=(0,F.localize)(3,null),c=(0,F.localize)(4,null),e=(0,F.localize)(5,null),s=(0,F.localize)(6,null),n=(0,F.localize)(7,null);class r{static{this.c=new Error}get lexingErrors(){return this.d.errors}get parsingErrors(){return this.h}constructor(i=f){this.k=i,this.d=new T.$Wi,this.f=[],this.g=0,this.h=[],this.v=/g|y/g}parse(i){if(i===""){this.h.push({message:C,offset:0,lexeme:"",additionalInfo:g});return}this.f=this.d.reset(i).scan(),this.g=0,this.h=[];try{const h=this.l();if(!this.E()){const A=this.D(),N=A.type===17?e:void 0;throw this.h.push({message:c,offset:A.offset,lexeme:T.$Wi.getLexeme(A),additionalInfo:N}),r.c}return h}catch(h){if(h!==r.c)throw h;return}}l(){return this.m()}m(){const i=[this.o()];for(;this.y(16);){const h=this.o();i.push(h)}return i.length===1?i[0]:u.or(...i)}o(){const i=[this.s()];for(;this.y(15);){const h=this.s();i.push(h)}return i.length===1?i[0]:u.and(...i)}s(){if(this.y(2)){const i=this.D();switch(i.type){case 11:return this.z(),P.INSTANCE;case 12:return this.z(),o.INSTANCE;case 0:{this.z();const h=this.l();return this.A(1,l),h?.negate()}case 17:return this.z(),V.create(i.lexeme);default:throw this.B("KEY | true | false | '(' expression ')'",i)}}return this.t()}t(){const i=this.D();switch(i.type){case 11:return this.z(),u.true();case 12:return this.z(),u.false();case 0:{this.z();const h=this.l();return this.A(1,l),h}case 17:{const h=i.lexeme;if(this.z(),this.y(9)){const N=this.D();if(!this.k.regexParsingWithErrorRecovery){if(this.z(),N.type!==10)throw this.B("REGEX",N);const it=N.lexeme,L=it.lastIndexOf("/"),d=L===it.length-1?void 0:this.w(it.substring(L+1));let y;try{y=new RegExp(it.substring(1,L),d)}catch{throw this.B("REGEX",N)}return w.create(h,y)}switch(N.type){case 10:case 19:{const it=[N.lexeme];this.z();let L=this.D(),d=0;for(let ut=0;ut<N.lexeme.length;ut++)N.lexeme.charCodeAt(ut)===40?d++:N.lexeme.charCodeAt(ut)===41&&d--;for(;!this.E()&&L.type!==15&&L.type!==16;){switch(L.type){case 0:d++;break;case 1:d--;break;case 10:case 18:for(let ut=0;ut<L.lexeme.length;ut++)L.lexeme.charCodeAt(ut)===40?d++:N.lexeme.charCodeAt(ut)===41&&d--}if(d<0)break;it.push(T.$Wi.getLexeme(L)),this.z(),L=this.D()}const y=it.join(""),R=y.lastIndexOf("/"),X=R===y.length-1?void 0:this.w(y.substring(R+1));let x;try{x=new RegExp(y.substring(1,R),X)}catch{throw this.B("REGEX",N)}return u.regex(h,x)}case 18:{const it=N.lexeme;this.z();let L=null;if(!(0,D.$Ge)(it)){const d=it.indexOf("/"),y=it.lastIndexOf("/");if(d!==y&&d>=0){const R=it.slice(d+1,y),X=it[y+1]==="i"?"i":"";try{L=new RegExp(R,X)}catch{throw this.B("REGEX",N)}}}if(L===null)throw this.B("REGEX",N);return w.create(h,L)}default:throw this.B("REGEX",this.D())}}if(this.y(14)){this.A(13,a);const N=this.u();return u.notIn(h,N)}switch(this.D().type){case 3:{this.z();const N=this.u();if(this.x().type===18)return u.equals(h,N);switch(N){case"true":return u.has(h);case"false":return u.not(h);default:return u.equals(h,N)}}case 4:{this.z();const N=this.u();if(this.x().type===18)return u.notEquals(h,N);switch(N){case"true":return u.not(h);case"false":return u.has(h);default:return u.notEquals(h,N)}}case 5:return this.z(),et.create(h,this.u());case 6:return this.z(),nt.create(h,this.u());case 7:return this.z(),tt.create(h,this.u());case 8:return this.z(),st.create(h,this.u());case 13:return this.z(),u.in(h,this.u());default:return u.has(h)}}case 20:throw this.h.push({message:s,offset:i.offset,lexeme:"",additionalInfo:n}),r.c;default:throw this.B(`true | false | KEY 
	| KEY '=~' REGEX 
	| KEY ('==' | '!=' | '<' | '<=' | '>' | '>=' | 'in' | 'not' 'in') value`,this.D())}}u(){const i=this.D();switch(i.type){case 17:case 18:return this.z(),i.lexeme;case 11:return this.z(),"true";case 12:return this.z(),"false";case 13:return this.z(),"in";default:return""}}w(i){return i.replaceAll(this.v,"")}x(){return this.f[this.g-1]}y(i){return this.C(i)?(this.z(),!0):!1}z(){return this.E()||this.g++,this.x()}A(i,h){if(this.C(i))return this.z();throw this.B(h,this.D())}B(i,h,A){const N=(0,F.localize)(8,null,i,T.$Wi.getLexeme(h)),it=h.offset,L=T.$Wi.getLexeme(h);return this.h.push({message:N,offset:it,lexeme:L,additionalInfo:A}),r.c}C(i){return this.D().type===i}D(){return this.f[this.g]}E(){return this.D().type===20}}t.$Yi=r;class u{static false(){return P.INSTANCE}static true(){return o.INSTANCE}static has(i){return I.create(i)}static equals(i,h){return j.create(i,h)}static notEquals(i,h){return b.create(i,h)}static regex(i,h){return w.create(i,h)}static in(i,h){return W.create(i,h)}static notIn(i,h){return k.create(i,h)}static not(i){return V.create(i)}static and(...i){return q.create(i,null,!0)}static or(...i){return z.create(i,null,!0)}static greater(i,h){return tt.create(i,h)}static greaterEquals(i,h){return st.create(i,h)}static smaller(i,h){return et.create(i,h)}static smallerEquals(i,h){return nt.create(i,h)}static{this.c=new r({regexParsingWithErrorRecovery:!1})}static deserialize(i){return i==null?void 0:this.c.parse(i)}}t.$Zi=u;function m(S){const i=new r({regexParsingWithErrorRecovery:!1});return S.map(h=>(i.parse(h),i.lexingErrors.length>0?i.lexingErrors.map(A=>({errorMessage:A.additionalInfo?(0,F.localize)(9,null,A.additionalInfo):(0,F.localize)(10,null),offset:A.offset,length:A.lexeme.length})):i.parsingErrors.length>0?i.parsingErrors.map(A=>({errorMessage:A.additionalInfo?`${A.message}. ${A.additionalInfo}`:A.message,offset:A.offset,length:A.lexeme.length})):[]))}t.$1i=m;function v(S,i){const h=S?S.substituteConstants():void 0,A=i?i.substituteConstants():void 0;return!h&&!A?!0:!h||!A?!1:h.equals(A)}t.$2i=v;function E(S,i){return S.cmp(i)}class P{static{this.INSTANCE=new P}constructor(){this.type=0}cmp(i){return this.type-i.type}equals(i){return i.type===this.type}substituteConstants(){return this}evaluate(i){return!1}serialize(){return"false"}keys(){return[]}map(i){return this}negate(){return o.INSTANCE}}t.$3i=P;class o{static{this.INSTANCE=new o}constructor(){this.type=1}cmp(i){return this.type-i.type}equals(i){return i.type===this.type}substituteConstants(){return this}evaluate(i){return!0}serialize(){return"true"}keys(){return[]}map(i){return this}negate(){return P.INSTANCE}}t.$4i=o;class I{static create(i,h=null){const A=B.get(i);return typeof A=="boolean"?A?o.INSTANCE:P.INSTANCE:new I(i,h)}constructor(i,h){this.key=i,this.c=h,this.type=2}cmp(i){return i.type!==this.type?this.type-i.type:Y(this.key,i.key)}equals(i){return i.type===this.type?this.key===i.key:!1}substituteConstants(){const i=B.get(this.key);return typeof i=="boolean"?i?o.INSTANCE:P.INSTANCE:this}evaluate(i){return!!i.getValue(this.key)}serialize(){return this.key}keys(){return[this.key]}map(i){return i.mapDefined(this.key)}negate(){return this.c||(this.c=V.create(this.key,this)),this.c}}t.$5i=I;class j{static create(i,h,A=null){if(typeof h=="boolean")return h?I.create(i,A):V.create(i,A);const N=B.get(i);return typeof N=="boolean"?h===(N?"true":"false")?o.INSTANCE:P.INSTANCE:new j(i,h,A)}constructor(i,h,A){this.c=i,this.d=h,this.f=A,this.type=4}cmp(i){return i.type!==this.type?this.type-i.type:Z(this.c,this.d,i.c,i.d)}equals(i){return i.type===this.type?this.c===i.c&&this.d===i.d:!1}substituteConstants(){const i=B.get(this.c);if(typeof i=="boolean"){const h=i?"true":"false";return this.d===h?o.INSTANCE:P.INSTANCE}return this}evaluate(i){return i.getValue(this.c)==this.d}serialize(){return`${this.c} == '${this.d}'`}keys(){return[this.c]}map(i){return i.mapEquals(this.c,this.d)}negate(){return this.f||(this.f=b.create(this.c,this.d,this)),this.f}}t.$6i=j;class W{static create(i,h){return new W(i,h)}constructor(i,h){this.d=i,this.f=h,this.type=10,this.c=null}cmp(i){return i.type!==this.type?this.type-i.type:Z(this.d,this.f,i.d,i.f)}equals(i){return i.type===this.type?this.d===i.d&&this.f===i.f:!1}substituteConstants(){return this}evaluate(i){const h=i.getValue(this.f),A=i.getValue(this.d);return Array.isArray(h)?h.includes(A):typeof A=="string"&&typeof h=="object"&&h!==null?p.call(h,A):!1}serialize(){return`${this.d} in '${this.f}'`}keys(){return[this.d,this.f]}map(i){return i.mapIn(this.d,this.f)}negate(){return this.c||(this.c=k.create(this.d,this.f)),this.c}}t.$7i=W;class k{static create(i,h){return new k(i,h)}constructor(i,h){this.d=i,this.f=h,this.type=11,this.c=W.create(i,h)}cmp(i){return i.type!==this.type?this.type-i.type:this.c.cmp(i.c)}equals(i){return i.type===this.type?this.c.equals(i.c):!1}substituteConstants(){return this}evaluate(i){return!this.c.evaluate(i)}serialize(){return`${this.d} not in '${this.f}'`}keys(){return this.c.keys()}map(i){return i.mapNotIn(this.d,this.f)}negate(){return this.c}}t.$8i=k;class b{static create(i,h,A=null){if(typeof h=="boolean")return h?V.create(i,A):I.create(i,A);const N=B.get(i);return typeof N=="boolean"?h===(N?"true":"false")?P.INSTANCE:o.INSTANCE:new b(i,h,A)}constructor(i,h,A){this.c=i,this.d=h,this.f=A,this.type=5}cmp(i){return i.type!==this.type?this.type-i.type:Z(this.c,this.d,i.c,i.d)}equals(i){return i.type===this.type?this.c===i.c&&this.d===i.d:!1}substituteConstants(){const i=B.get(this.c);if(typeof i=="boolean"){const h=i?"true":"false";return this.d===h?P.INSTANCE:o.INSTANCE}return this}evaluate(i){return i.getValue(this.c)!=this.d}serialize(){return`${this.c} != '${this.d}'`}keys(){return[this.c]}map(i){return i.mapNotEquals(this.c,this.d)}negate(){return this.f||(this.f=j.create(this.c,this.d,this)),this.f}}t.$9i=b;class V{static create(i,h=null){const A=B.get(i);return typeof A=="boolean"?A?P.INSTANCE:o.INSTANCE:new V(i,h)}constructor(i,h){this.c=i,this.d=h,this.type=3}cmp(i){return i.type!==this.type?this.type-i.type:Y(this.c,i.c)}equals(i){return i.type===this.type?this.c===i.c:!1}substituteConstants(){const i=B.get(this.c);return typeof i=="boolean"?i?P.INSTANCE:o.INSTANCE:this}evaluate(i){return!i.getValue(this.c)}serialize(){return`!${this.c}`}keys(){return[this.c]}map(i){return i.mapNot(this.c)}negate(){return this.d||(this.d=I.create(this.c,this)),this.d}}t.$0i=V;function _(S,i){if(typeof S=="string"){const h=parseFloat(S);isNaN(h)||(S=h)}return typeof S=="string"||typeof S=="number"?i(S):P.INSTANCE}class tt{static create(i,h,A=null){return _(h,N=>new tt(i,N,A))}constructor(i,h,A){this.c=i,this.d=h,this.f=A,this.type=12}cmp(i){return i.type!==this.type?this.type-i.type:Z(this.c,this.d,i.c,i.d)}equals(i){return i.type===this.type?this.c===i.c&&this.d===i.d:!1}substituteConstants(){return this}evaluate(i){return typeof this.d=="string"?!1:parseFloat(i.getValue(this.c))>this.d}serialize(){return`${this.c} > ${this.d}`}keys(){return[this.c]}map(i){return i.mapGreater(this.c,this.d)}negate(){return this.f||(this.f=nt.create(this.c,this.d,this)),this.f}}t.$$i=tt;class st{static create(i,h,A=null){return _(h,N=>new st(i,N,A))}constructor(i,h,A){this.c=i,this.d=h,this.f=A,this.type=13}cmp(i){return i.type!==this.type?this.type-i.type:Z(this.c,this.d,i.c,i.d)}equals(i){return i.type===this.type?this.c===i.c&&this.d===i.d:!1}substituteConstants(){return this}evaluate(i){return typeof this.d=="string"?!1:parseFloat(i.getValue(this.c))>=this.d}serialize(){return`${this.c} >= ${this.d}`}keys(){return[this.c]}map(i){return i.mapGreaterEquals(this.c,this.d)}negate(){return this.f||(this.f=et.create(this.c,this.d,this)),this.f}}t.$_i=st;class et{static create(i,h,A=null){return _(h,N=>new et(i,N,A))}constructor(i,h,A){this.c=i,this.d=h,this.f=A,this.type=14}cmp(i){return i.type!==this.type?this.type-i.type:Z(this.c,this.d,i.c,i.d)}equals(i){return i.type===this.type?this.c===i.c&&this.d===i.d:!1}substituteConstants(){return this}evaluate(i){return typeof this.d=="string"?!1:parseFloat(i.getValue(this.c))<this.d}serialize(){return`${this.c} < ${this.d}`}keys(){return[this.c]}map(i){return i.mapSmaller(this.c,this.d)}negate(){return this.f||(this.f=st.create(this.c,this.d,this)),this.f}}t.$aj=et;class nt{static create(i,h,A=null){return _(h,N=>new nt(i,N,A))}constructor(i,h,A){this.c=i,this.d=h,this.f=A,this.type=15}cmp(i){return i.type!==this.type?this.type-i.type:Z(this.c,this.d,i.c,i.d)}equals(i){return i.type===this.type?this.c===i.c&&this.d===i.d:!1}substituteConstants(){return this}evaluate(i){return typeof this.d=="string"?!1:parseFloat(i.getValue(this.c))<=this.d}serialize(){return`${this.c} <= ${this.d}`}keys(){return[this.c]}map(i){return i.mapSmallerEquals(this.c,this.d)}negate(){return this.f||(this.f=tt.create(this.c,this.d,this)),this.f}}t.$bj=nt;class w{static create(i,h){return new w(i,h)}constructor(i,h){this.d=i,this.f=h,this.type=7,this.c=null}cmp(i){if(i.type!==this.type)return this.type-i.type;if(this.d<i.d)return-1;if(this.d>i.d)return 1;const h=this.f?this.f.source:"",A=i.f?i.f.source:"";return h<A?-1:h>A?1:0}equals(i){if(i.type===this.type){const h=this.f?this.f.source:"",A=i.f?i.f.source:"";return this.d===i.d&&h===A}return!1}substituteConstants(){return this}evaluate(i){const h=i.getValue(this.d);return this.f?this.f.test(h):!1}serialize(){const i=this.f?`/${this.f.source}/${this.f.flags}`:"/invalid/";return`${this.d} =~ ${i}`}keys(){return[this.d]}map(i){return i.mapRegex(this.d,this.f)}negate(){return this.c||(this.c=J.create(this)),this.c}}t.$cj=w;class J{static create(i){return new J(i)}constructor(i){this.c=i,this.type=8}cmp(i){return i.type!==this.type?this.type-i.type:this.c.cmp(i.c)}equals(i){return i.type===this.type?this.c.equals(i.c):!1}substituteConstants(){return this}evaluate(i){return!this.c.evaluate(i)}serialize(){return`!(${this.c.serialize()})`}keys(){return this.c.keys()}map(i){return new J(this.c.map(i))}negate(){return this.c}}t.$dj=J;function lt(S){let i=null;for(let h=0,A=S.length;h<A;h++){const N=S[h].substituteConstants();if(S[h]!==N&&i===null){i=[];for(let it=0;it<h;it++)i[it]=S[it]}i!==null&&(i[h]=N)}return i===null?S:i}class q{static create(i,h,A){return q.d(i,h,A)}constructor(i,h){this.expr=i,this.c=h,this.type=6}cmp(i){if(i.type!==this.type)return this.type-i.type;if(this.expr.length<i.expr.length)return-1;if(this.expr.length>i.expr.length)return 1;for(let h=0,A=this.expr.length;h<A;h++){const N=E(this.expr[h],i.expr[h]);if(N!==0)return N}return 0}equals(i){if(i.type===this.type){if(this.expr.length!==i.expr.length)return!1;for(let h=0,A=this.expr.length;h<A;h++)if(!this.expr[h].equals(i.expr[h]))return!1;return!0}return!1}substituteConstants(){const i=lt(this.expr);return i===this.expr?this:q.create(i,this.c,!1)}evaluate(i){for(let h=0,A=this.expr.length;h<A;h++)if(!this.expr[h].evaluate(i))return!1;return!0}static d(i,h,A){const N=[];let it=!1;for(const L of i)if(L){if(L.type===1){it=!0;continue}if(L.type===0)return P.INSTANCE;if(L.type===6){N.push(...L.expr);continue}N.push(L)}if(N.length===0&&it)return o.INSTANCE;if(N.length!==0){if(N.length===1)return N[0];N.sort(E);for(let L=1;L<N.length;L++)N[L-1].equals(N[L])&&(N.splice(L,1),L--);if(N.length===1)return N[0];for(;N.length>1;){const L=N[N.length-1];if(L.type!==9)break;N.pop();const d=N.pop(),y=N.length===0,R=z.create(L.expr.map(X=>q.create([X,d],null,A)),null,y);R&&(N.push(R),N.sort(E))}if(N.length===1)return N[0];if(A){for(let L=0;L<N.length;L++)for(let d=L+1;d<N.length;d++)if(N[L].negate().equals(N[d]))return P.INSTANCE;if(N.length===1)return N[0]}return new q(N,h)}}serialize(){return this.expr.map(i=>i.serialize()).join(" && ")}keys(){const i=[];for(const h of this.expr)i.push(...h.keys());return i}map(i){return new q(this.expr.map(h=>h.map(i)),null)}negate(){if(!this.c){const i=[];for(const h of this.expr)i.push(h.negate());this.c=z.create(i,this,!0)}return this.c}}t.$ej=q;class z{static create(i,h,A){return z.d(i,h,A)}constructor(i,h){this.expr=i,this.c=h,this.type=9}cmp(i){if(i.type!==this.type)return this.type-i.type;if(this.expr.length<i.expr.length)return-1;if(this.expr.length>i.expr.length)return 1;for(let h=0,A=this.expr.length;h<A;h++){const N=E(this.expr[h],i.expr[h]);if(N!==0)return N}return 0}equals(i){if(i.type===this.type){if(this.expr.length!==i.expr.length)return!1;for(let h=0,A=this.expr.length;h<A;h++)if(!this.expr[h].equals(i.expr[h]))return!1;return!0}return!1}substituteConstants(){const i=lt(this.expr);return i===this.expr?this:z.create(i,this.c,!1)}evaluate(i){for(let h=0,A=this.expr.length;h<A;h++)if(this.expr[h].evaluate(i))return!0;return!1}static d(i,h,A){let N=[],it=!1;if(i){for(let L=0,d=i.length;L<d;L++){const y=i[L];if(y){if(y.type===0){it=!0;continue}if(y.type===1)return o.INSTANCE;if(y.type===9){N=N.concat(y.expr);continue}N.push(y)}}if(N.length===0&&it)return P.INSTANCE;N.sort(E)}if(N.length!==0){if(N.length===1)return N[0];for(let L=1;L<N.length;L++)N[L-1].equals(N[L])&&(N.splice(L,1),L--);if(N.length===1)return N[0];if(A){for(let L=0;L<N.length;L++)for(let d=L+1;d<N.length;d++)if(N[L].negate().equals(N[d]))return o.INSTANCE;if(N.length===1)return N[0]}return new z(N,h)}}serialize(){return this.expr.map(i=>i.serialize()).join(" || ")}keys(){const i=[];for(const h of this.expr)i.push(...h.keys());return i}map(i){return new z(this.expr.map(h=>h.map(i)),null)}negate(){if(!this.c){const i=[];for(const h of this.expr)i.push(h.negate());for(;i.length>1;){const h=i.shift(),A=i.shift(),N=[];for(const it of H(h))for(const L of H(A))N.push(q.create([it,L],null,!1));i.unshift(z.create(N,null,!1))}this.c=z.create(i,this,!0)}return this.c}}t.$fj=z;class M extends I{static{this.d=[]}static all(){return M.d.values()}constructor(i,h,A){super(i,null),this.f=h,typeof A=="object"?M.d.push({...A,key:i}):A!==!0&&M.d.push({key:i,description:A,type:h!=null?typeof h:void 0})}bindTo(i){return i.createKey(this.key,this.f)}getValue(i){return i.getContextKeyValue(this.key)}toNegated(){return this.negate()}isEqualTo(i){return j.create(this.key,i)}notEqualsTo(i){return b.create(this.key,i)}}t.$gj=M,t.$hj=(0,O.$2h)("contextKeyService");function Y(S,i){return S<i?-1:S>i?1:0}function Z(S,i,h,A){return S<h?-1:S>h?1:i<A?-1:i>A?1:0}function K(S,i){if(S.type===0||i.type===1)return!0;if(S.type===9)return i.type===9?rt(S.expr,i.expr):!1;if(i.type===9){for(const h of i.expr)if(K(S,h))return!0;return!1}if(S.type===6){if(i.type===6)return rt(i.expr,S.expr);for(const h of S.expr)if(K(h,i))return!0;return!1}return S.equals(i)}t.$ij=K;function rt(S,i){let h=0,A=0;for(;h<S.length&&A<i.length;){const N=S[h].cmp(i[A]);if(N<0)return!1;N===0&&h++,A++}return h===S.length}function H(S){return S.type===9?S.expr:[S]}}),define(ht[36],at([0,1,6,24,42,20,11,5,2,35]),function(ct,t,G,D,T,O,F,Q,B,$){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.$SI=t.$RI=t.$QI=t.$PI=t.CellStatusbarAlignment=t.$OI=t.$NI=t.$MI=t.NotebookEditorPriority=t.$LI=t.$KI=t.$JI=t.$II=t.CellUri=t.CellEditType=t.SelectionStateType=t.NotebookCellsChangeType=t.RendererMessagingSpec=t.NotebookRendererMatch=t.NotebookExecutionState=t.NotebookCellExecutionState=t.NotebookRunState=t.$HI=t.$GI=t.$FI=t.$EI=t.CellKind=t.$DI=t.$CI=t.$BI=void 0,t.$BI="workbench.editor.notebook",t.$CI="workbench.editor.notebookTextDiffEditor",t.$DI="workbench.editor.interactive";var p;(function(w){w[w.Markup=1]="Markup",w[w.Code=2]="Code"})(p||(t.CellKind=p={})),t.$EI=["application/json","application/javascript","text/html","image/svg+xml",O.$3r.latex,O.$3r.markdown,"image/png","image/jpeg",O.$3r.text],t.$FI=[O.$3r.latex,O.$3r.markdown,"application/json","text/html","image/svg+xml","image/png","image/jpeg",O.$3r.text],t.$GI=new Map([["ms-toolsai.jupyter",new Set(["jupyter-notebook","interactive"])],["ms-toolsai.jupyter-renderers",new Set(["jupyter-notebook","interactive"])]]),t.$HI="_notAvailable";var U;(function(w){w[w.Running=1]="Running",w[w.Idle=2]="Idle"})(U||(t.NotebookRunState=U={}));var f;(function(w){w[w.Unconfirmed=1]="Unconfirmed",w[w.Pending=2]="Pending",w[w.Executing=3]="Executing"})(f||(t.NotebookCellExecutionState=f={}));var C;(function(w){w[w.Unconfirmed=1]="Unconfirmed",w[w.Pending=2]="Pending",w[w.Executing=3]="Executing"})(C||(t.NotebookExecutionState=C={}));var g;(function(w){w[w.WithHardKernelDependency=0]="WithHardKernelDependency",w[w.WithOptionalKernelDependency=1]="WithOptionalKernelDependency",w[w.Pure=2]="Pure",w[w.Never=3]="Never"})(g||(t.NotebookRendererMatch=g={}));var a;(function(w){w.Always="always",w.Never="never",w.Optional="optional"})(a||(t.RendererMessagingSpec=a={}));var l;(function(w){w[w.ModelChange=1]="ModelChange",w[w.Move=2]="Move",w[w.ChangeCellLanguage=5]="ChangeCellLanguage",w[w.Initialize=6]="Initialize",w[w.ChangeCellMetadata=7]="ChangeCellMetadata",w[w.Output=8]="Output",w[w.OutputItem=9]="OutputItem",w[w.ChangeCellContent=10]="ChangeCellContent",w[w.ChangeDocumentMetadata=11]="ChangeDocumentMetadata",w[w.ChangeCellInternalMetadata=12]="ChangeCellInternalMetadata",w[w.ChangeCellMime=13]="ChangeCellMime",w[w.Unknown=100]="Unknown"})(l||(t.NotebookCellsChangeType=l={}));var c;(function(w){w[w.Handle=0]="Handle",w[w.Index=1]="Index"})(c||(t.SelectionStateType=c={}));var e;(function(w){w[w.Replace=1]="Replace",w[w.Output=2]="Output",w[w.Metadata=3]="Metadata",w[w.CellLanguage=4]="CellLanguage",w[w.DocumentMetadata=5]="DocumentMetadata",w[w.Move=6]="Move",w[w.OutputItems=7]="OutputItems",w[w.PartialMetadata=8]="PartialMetadata",w[w.PartialInternalMetadata=9]="PartialInternalMetadata"})(e||(t.CellEditType=e={}));var s;(function(w){w.scheme=F.Schemas.vscodeNotebookCell;const J=["W","X","Y","Z","a","b","c","d","e","f"],lt=new RegExp(`^[${J.join("")}]+`),q=7;function z(H,S){const i=S.toString(q),A=`${i.length<J.length?J[i.length-1]:"z"}${i}s${(0,G.$Ae)(G.$ge.fromString(H.scheme),!0,!0)}`;return H.with({scheme:w.scheme,fragment:A})}w.generate=z;function M(H){if(H.scheme!==w.scheme)return;const S=H.fragment.indexOf("s");if(S<0)return;const i=parseInt(H.fragment.substring(0,S).replace(lt,""),q),h=(0,G.$ze)(H.fragment.substring(S+1)).toString();if(!isNaN(i))return{handle:i,notebook:H.with({scheme:h,fragment:null})}}w.parse=M;function Y(H,S){return H.with({scheme:F.Schemas.vscodeNotebookCellOutput,fragment:`op${S??""},${H.scheme!==F.Schemas.file?H.scheme:""}`})}w.generateCellOutputUri=Y;function Z(H){if(H.scheme!==F.Schemas.vscodeNotebookCellOutput)return;const S=/^op([0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12})?\,(.*)$/i.exec(H.fragment);if(!S)return;const i=S[1]&&S[1]!==""?S[1]:void 0,h=S[2];return{outputId:i,notebook:H.with({scheme:h||F.Schemas.file,fragment:null})}}w.parseCellOutputUri=Z;function K(H,S,i){return w.generate(H,S).with({scheme:i})}w.generateCellPropertyUri=K;function rt(H,S){if(H.scheme===S)return w.parse(H.with({scheme:w.scheme}))}w.parseCellPropertyUri=rt})(s||(t.CellUri=s={}));const n=w=>B.$i?w.replace(/\//g,"\\"):w;class r{constructor(J=[],lt=t.$EI){this.e=lt,this.d=[...new Set(J)].map(q=>({pattern:q,matches:D.$Ij(n(q))}))}sort(J){const lt=new Map(T.Iterable.map(J,z=>[z,n(z)]));let q=[];for(const{matches:z}of this.d)for(const[M,Y]of lt)if(z(Y)){q.push(M),lt.delete(M);break}return lt.size&&(q=q.concat([...lt.keys()].sort((z,M)=>this.e.indexOf(z)-this.e.indexOf(M)))),q}prioritize(J,lt){const q=this.f(J);if(q===-1){this.d.unshift({pattern:J,matches:D.$Ij(n(J))});return}const z=new Set(lt.map(Y=>this.f(Y,q)));z.delete(-1);const M=Array.from(z).sort();this.d.splice(q+1,0,...M.map(Y=>this.d[Y]));for(let Y=M.length-1;Y>=0;Y--)this.d.splice(M[Y],1)}toArray(){return this.d.map(J=>J.pattern)}f(J,lt=this.d.length){const q=n(J);for(let z=0;z<lt;z++)if(this.d[z].matches(q))return z;return-1}}t.$II=r;function u(w,J,lt,q=(z,M)=>z===M){const z=[];function M(K,rt,H){if(rt===0&&H.length===0)return;const S=z[z.length-1];S&&S.start+S.deleteCount===K?(S.deleteCount+=rt,S.toInsert.push(...H)):z.push({start:K,deleteCount:rt,toInsert:H})}let Y=0,Z=0;for(;;){if(Y===w.length){M(Y,0,J.slice(Z));break}if(Z===J.length){M(Y,w.length-Y,[]);break}const K=w[Y],rt=J[Z];if(q(K,rt)){Y+=1,Z+=1;continue}lt(rt)?(M(Y,1,[]),Y+=1):(M(Y,0,[rt]),Z+=1)}return z}t.$JI=u,t.$KI=new $.$gj("notebookEditorCursorAtBoundary","none"),t.$LI=new $.$gj("notebookEditorCursorAtLineBoundary","none");var m;(function(w){w.default="default",w.option="option"})(m||(t.NotebookEditorPriority=m={}));function v(w){const J=w;return!!((typeof J.include=="string"||D.$Jj(J.include))&&(typeof J.exclude=="string"||D.$Jj(J.exclude)))}t.$MI=v;function E(w,J,lt){if(Array.isArray(w.viewType)&&w.viewType.indexOf(J)>=0||w.viewType===J)return!0;if(w.filenamePattern){const q=v(w.filenamePattern)?w.filenamePattern.include:w.filenamePattern,z=v(w.filenamePattern)?w.filenamePattern.exclude:void 0;if(D.$Hj(q,(0,Q.$nc)(lt.fsPath).toLowerCase()))return!(z&&D.$Hj(z,(0,Q.$nc)(lt.fsPath).toLowerCase()))}return!1}t.$NI=E,t.$OI={displayOrder:"notebook.displayOrder",cellToolbarLocation:"notebook.cellToolbarLocation",cellToolbarVisibility:"notebook.cellToolbarVisibility",showCellStatusBar:"notebook.showCellStatusBar",textDiffEditorPreview:"notebook.diff.enablePreview",diffOverviewRuler:"notebook.diff.overviewRuler",experimentalInsertToolbarAlignment:"notebook.experimental.insertToolbarAlignment",compactView:"notebook.compactView",focusIndicator:"notebook.cellFocusIndicator",insertToolbarLocation:"notebook.insertToolbarLocation",globalToolbar:"notebook.globalToolbar",stickyScroll:"notebook.stickyScroll.enabled",undoRedoPerCell:"notebook.undoRedoPerCell",consolidatedOutputButton:"notebook.consolidatedOutputButton",showFoldingControls:"notebook.showFoldingControls",dragAndDropEnabled:"notebook.dragAndDropEnabled",cellEditorOptionsCustomizations:"notebook.editorOptionsCustomizations",consolidatedRunButton:"notebook.consolidatedRunButton",openGettingStarted:"notebook.experimental.openGettingStarted",globalToolbarShowLabel:"notebook.globalToolbarShowLabel",markupFontSize:"notebook.markup.fontSize",interactiveWindowCollapseCodeCells:"interactiveWindow.collapseCellInputCode",outputScrollingDeprecated:"notebook.experimental.outputScrolling",outputScrolling:"notebook.output.scrolling",textOutputLineLimit:"notebook.output.textLineLimit",formatOnSave:"notebook.formatOnSave.enabled",insertFinalNewline:"notebook.insertFinalNewline",formatOnCellExecution:"notebook.formatOnCellExecution",codeActionsOnSave:"notebook.codeActionsOnSave",outputWordWrap:"notebook.output.wordWrap",outputLineHeightDeprecated:"notebook.outputLineHeight",outputLineHeight:"notebook.output.lineHeight",outputFontSizeDeprecated:"notebook.outputFontSize",outputFontSize:"notebook.output.fontSize",outputFontFamilyDeprecated:"notebook.outputFontFamily",outputFontFamily:"notebook.output.fontFamily",findScope:"notebook.find.scope",logging:"notebook.logging",confirmDeleteRunningCell:"notebook.confirmDeleteRunningCell",remoteSaving:"notebook.experimental.remoteSave",gotoSymbolsAllSymbols:"notebook.gotoSymbols.showAllSymbols",scrollToRevealCell:"notebook.scrolling.revealNextCellOnExecute",anchorToFocusedCell:"notebook.scrolling.experimental.anchorToFocusedCell",cellChat:"notebook.experimental.cellChat"};var P;(function(w){w[w.Left=1]="Left",w[w.Right=2]="Right"})(P||(t.CellStatusbarAlignment=P={}));class o{static{this.d="notebook/"}static create(J){return`${o.d}${J}`}static parse(J){if(J.startsWith(o.d))return J.substring(o.d.length)}}t.$PI=o;function I(w){return["application/vnd.code.notebook.stdout","application/vnd.code.notebook.stderr"].includes(w)}t.$QI=I;const j=new TextDecoder;function W(w){const J=[];let lt=!1;for(const Y of w)(J.length===0||lt)&&(J.push(Y),lt=!0);let q=V(J);const z=G.$ge.concat(J.map(Y=>G.$ge.wrap(Y))),M=nt(z);return q=q||M.byteLength!==z.byteLength,{data:M,didCompression:q}}t.$RI=W,t.$SI=`${String.fromCharCode(27)}[A`;const k=t.$SI.split("").map(w=>w.charCodeAt(0)),b=10;function V(w){let J=!1;return w.forEach((lt,q)=>{if(q===0||lt.length<t.$SI.length)return;const z=w[q-1],M=lt.subarray(0,t.$SI.length);if(M[0]===k[0]&&M[1]===k[1]&&M[2]===k[2]){const Y=z.lastIndexOf(b);if(Y===-1)return;J=!0,w[q-1]=z.subarray(0,Y),w[q]=lt.subarray(t.$SI.length)}}),J}function _(w){let J=w;do w=J,J=w.replace(/[^\n]\x08/gm,"");while(J.length<w.length);return w}function tt(w){for(w=w.replace(/\r+\n/gm,`
`);w.search(/\r[^$]/g)>-1;){const J=w.match(/^(.*)\r+/m)[1];let lt=w.match(/\r+(.*)$/m)[1];lt=lt+J.slice(lt.length,J.length),w=w.replace(/\r+.*$/m,"\r").replace(/^.*\r/m,lt)}return w}const st="\b".charCodeAt(0),et="\r".charCodeAt(0);function nt(w){return!w.buffer.includes(st)&&!w.buffer.includes(et)?w:G.$ge.fromString(tt(_(j.decode(w.buffer))))}}),define(ht[43],at([0,1,44,45,12,28,36,9,19]),function(ct,t,G,D,T,O,F,Q,B){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.create=t.NotebookEditorSimpleWorker=void 0;function $(a){let l=(0,D.$Ri)(104579,0);for(let c=0;c<a.buffer.length;c++)l=(0,D.$Qi)(a.buffer[c],l);return l}class p{get textBuffer(){if(this.a)return this.a;const l=new O.$WB;l.acceptChunk(Array.isArray(this.d)?this.d.join(`
`):this.d);const c=l.finish(!0);return this.a=c.create(1).textBuffer,this.a}primaryKey(){return this.b===void 0&&(this.b=(0,D.$Pi)(this.getValue())),this.b}constructor(l,c,e,s,n,r,u){this.handle=l,this.d=c,this.language=e,this.cellKind=s,this.outputs=n,this.metadata=r,this.internalMetadata=u,this.b=null,this.c=null}getFullModelRange(){const l=this.textBuffer.getLineCount();return new Q.$Gs(1,1,l,this.textBuffer.getLineLength(l)+1)}getValue(){const l=this.getFullModelRange();return this.textBuffer.getValueInRange(l,1)}getComparisonValue(){return this.b!==null?this.b:(this.c=(0,D.$Pi)([(0,D.$Pi)(this.language),(0,D.$Pi)(this.getValue()),this.metadata,this.internalMetadata,this.outputs.map(l=>({outputs:l.outputs.map(c=>({mime:c.mime,data:$(c.data)})),metadata:l.metadata}))]),this.c)}getHashValue(){return this.c!==null?this.c:(this.c=(0,D.$Pi)([(0,D.$Pi)(this.getValue()),this.language,this.metadata,this.internalMetadata]),this.c)}}class U{constructor(l,c,e){this.uri=l,this.cells=c,this.metadata=e}acceptModelChanged(l){l.rawEvents.forEach(c=>{if(c.kind===F.NotebookCellsChangeType.ModelChange)this._spliceNotebookCells(c.changes);else if(c.kind===F.NotebookCellsChangeType.Move){const e=this.cells.splice(c.index,1);this.cells.splice(c.newIdx,0,...e)}else if(c.kind===F.NotebookCellsChangeType.Output){const e=this.cells[c.index];e.outputs=c.outputs}else if(c.kind===F.NotebookCellsChangeType.ChangeCellLanguage){this.a(c.index);const e=this.cells[c.index];e.language=c.language}else if(c.kind===F.NotebookCellsChangeType.ChangeCellMetadata){this.a(c.index);const e=this.cells[c.index];e.metadata=c.metadata}else if(c.kind===F.NotebookCellsChangeType.ChangeCellInternalMetadata){this.a(c.index);const e=this.cells[c.index];e.internalMetadata=c.internalMetadata}})}a(l){if(l<0||l>=this.cells.length)throw new Error(`Illegal index ${l}. Cells length: ${this.cells.length}`)}_spliceNotebookCells(l){l.reverse().forEach(c=>{const s=c[2].map(n=>new p(n.handle,n.source,n.language,n.cellKind,n.outputs,n.metadata));this.cells.splice(c[0],c[1],...s)})}}class f{constructor(l){this.textModel=l}getElements(){const l=new Int32Array(this.textModel.cells.length);for(let c=0;c<this.textModel.cells.length;c++)l[c]=this.textModel.cells[c].getComparisonValue();return l}getCellHash(l){const c=Array.isArray(l.source)?l.source.join(`
`):l.source;return(0,D.$Pi)([(0,D.$Pi)(c),l.metadata])}}class C{constructor(){this.a=Object.create(null)}dispose(){}acceptNewModel(l,c){this.a[l]=new U(T.URI.parse(l),c.cells.map(e=>new p(e.handle,e.source,e.language,e.cellKind,e.outputs,e.metadata)),c.metadata)}acceptModelChanged(l,c){this.a[l]?.acceptModelChanged(c)}acceptRemovedModel(l){this.a[l]&&delete this.a[l]}computeDiff(l,c){const e=this.b(l),s=this.b(c);return{cellsDiff:new G.$Ms(new f(e),new f(s)).ComputeDiff(!1)}}canPromptRecommendation(l){const e=this.b(l).cells;for(let s=0;s<e.length;s++){const n=e[s];if(n.cellKind===F.CellKind.Markup||n.language!=="python")continue;const r=n.textBuffer.getLineCount(),u=Math.min(r,20),m=new Q.$Gs(1,1,u,n.textBuffer.getLineLength(u)+1),E=new B.$KB("import\\s*pandas|from\\s*pandas",!0,!1,null).parseSearchRequest();if(!E)continue;if(n.textBuffer.findMatchesLineByLine(m,E,!0,1).length>0)return!0}return!1}b(l){return this.a[l]}}t.NotebookEditorSimpleWorker=C;function g(a){return new C}t.create=g})}).call(this);

//# sourceMappingURL=https://ticino.blob.core.windows.net/sourcemaps/0ee08df0cf4527e40edc9aa28f4b5bd38bbff2b2/core/vs/workbench/contrib/notebook/common/services/notebookSimpleWorker.js.map
